var __sto=setTimeout;window.setTimeout=function(t,e,i){var s=Array.prototype.slice.call(arguments,2);__sto(function(){t.apply(null,s)},e)};var Ele=window.Ele=Ele||{Charts:{},Utils:{},Views:{},Controllers:{},imports:[],_importsCSS:[],_loadCallback:{},_loadModels:0,_loadCount:0,_pathPrefix:"/",_rootId:"",_skin:"skin",rootView:null,masking:null,initPath:function(t){"string"==typeof t&&("/"==t.charAt(0)?this._pathPrefix=t+"/":this._pathPrefix="/"+t+"/")},initSkin:function(t){"string"==typeof t&&(this._skin=t)},getSkinName:function(){return this._skin},initView:function(t){"string"==typeof t&&(this._rootId=t)},importJS:function(t){this.imports.push(t)},importCSS:function(t){this._importsCSS.push(t)},load:function(t){if(""==this._rootId)throw console.log("Ele load view model must call 'initView' method."),"Ele load view model must call 'initView' method";this._loadCallback=t||function(){},this._loadModels=this.imports.length,this._loadCount=0;var e=this,i=document.getElementsByTagName("head")[0],t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=this._pathPrefix+"ele/"+this._skin+"/ele-all.min.css",t.onload=function(){e._loadImports()},i.appendChild(t)},_loadImports:function(){for(var t=0;t<this.imports.length;t++)this._importJS(this.imports[t],this._loadHandler);for(var e=0;e<this._importsCSS.length;e++){var i=document.getElementsByTagName("head")[0],s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=this._importsCSS[e],i.appendChild(s)}0==this.imports.length&&("string"==typeof this._rootId&&""!=this._rootId.trim()&&(this.rootView=new Ele.Element(this._rootId),this.masking=new Ele.Views.Masking,this.masking.view.setContainerById(this._rootId)),this._loadCallback(this.rootView))},_loadHandler:function(t,e){t._loadCount++,t._loadCount==t._loadModels&&("string"==typeof t._rootId&&""!=t._rootId.trim()&&(t.rootView=new Ele.Element(t._rootId),t.masking=new Ele.Views.Masking,t.masking.view.setContainerById(t._rootId)),t._loadCallback(t.rootView))},_importJS:function(t,e){var i=this,s=document.createElement("script"),o=e||function(){};s.type="text/javascript",s.readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadystatechange=null,o(i,t))}:s.onload=function(){o(i,t)},s.src=t,document.getElementsByTagName("head")[0].appendChild(s)},_isArray:function(t){return"function"==typeof Array._isArray?Array._isArray(t):"[object Array]"===Object.prototype.toString.call(t)},_cloneObject:function(t){var e={},e=JSON.parse(JSON.stringify(t));this.__cloneFilter(e,t)&&(e=t);var i=new t.constructor;for(items in e)i[items]=e[items];return i},__cloneFilter:function(t,e){if("object"==typeof e)for(items in e)this.__cloneFilter(t[items],e[items])&&(t[items]=e[items]);return"function"==typeof e||void 0===e||e instanceof RegExp},_isElement:function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:!(!t||"object"!=typeof t||1!==t.nodeType&&9!==t.nodeType||"string"!=typeof t.nodeName)}};!function(){var t=Ele.AjaxLoad=function(){this.eleType="layout",this.ele,this.view,this._msg,t.prototype._init=function(){this.view=new Ele.Layout("ele_shade_pl"),this.ele=this.view.ele,this.ele.style.display="none";var t=new Ele.Layout("ele_shade_bg"),e=new Ele.Layout("ele_ajaxload_content"),i=new Ele.Utils.WinInner,s=i.getWidth(),i=i.getHeight();e.ele.style.marginTop=i/2-18+"px",e.ele.style.marginLeft=s/2-90+"px";i=new Ele.Layout("ele_ajaxload_content_img"),s=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/ajax-loader.gif");i.add(s),this._msg=new Ele.Layout("ele_ajaxload_content_msg"),this._msg.setAlign("center"),this._msg.setHtml("数据处理中，请稍后..."),e.add(i),e.add(this._msg),this.view.add(t),this.view.add(e)},t.prototype.setMsg=function(t){null!=this._msg&&this._msg.setHtml(t)},t.prototype.show=function(){null!=this.ele&&(this.ele.style.display="block")},t.prototype.hide=function(){null!=this.ele&&(this.ele.style.display="none")},t.prototype.getView=function(){return this.view},t.prototype.close=function(){null!=this.view&&(Ele.rootView.remove(this.view),this.view=null,this.ele=null)},this._init()}}(),function(){var t=Ele.Alert=function(){this.eleType="layout",this.ele,this.view,this._msg,this._sureHandler=null,this._onsuredown=!1,t.prototype._init=function(){var t=this;this.view=new Ele.Layout("ele_shade_pl"),this.ele=this.view.ele,this.ele.style.display="none";var e=new Ele.Layout("ele_shade_bg"),i=new Ele.Layout("ele_confirm_panel"),s=new Ele.Utils.WinInner,o=s.getWidth(),n=s.getHeight();i.ele.style.marginTop=n/2-50+"px",i.ele.style.marginLeft=o/2-150+"px";var l=new Ele.Layout("ele_confirm_divider ele_confirm_margin_top_20"),s=new Ele.Layout("ele_confirm_view");s.setAlign("center"),this._msg=new Ele.Label("确认继续该操作？","ele_confirm_txt"),s.add(this._msg);var n=new Ele.Layout("ele_confirm_btn_view"),h=new Ele.Layout("ele_alert_btn_sure");h.setAlign("center"),h.ele.onmousedown=function(){h.ele.className="ele_alert_btn_sure_over",t._onsuredown=!0},h.ele.onmouseup=function(){h.ele.className="ele_alert_btn_sure",t._onsuredown=!1},h.ele.onmouseout=function(){t._onsuredown&&(h.ele.className="ele_alert_btn_sure",t._onsuredown=!1)},h.ele.onclick=function(){t.hide(),null!=t._sureHandler&&t._sureHandler()};o=new Ele.Label("确定","ele_confirm_btn_txt");h.add(o),n.add(h),i.add(s),i.add(l),i.add(n),this.view.add(e),this.view.add(i)},t.prototype.setSureHandler=function(t){this._sureHandler=t},t.prototype.setMsg=function(t){null!=this._msg&&this._msg.setText(t)},t.prototype.show=function(){null!=this.ele&&(this.ele.style.display="block")},t.prototype.hide=function(){null!=this.ele&&(this.ele.style.display="none")},t.prototype.close=function(){null!=this.ele&&(Ele.rootView.remove(this.view),this.ele=null)},this._init()},e=Ele.Confirm=function(){this.eleType="layout",this.ele,this.view,this._msg=null,this._sureHandler=null,this._cancelHandler=null,this._onsuredown=!1,e.prototype._init=function(){var t=this;this.view=new Ele.Layout("ele_shade_pl"),this.ele=this.view.ele,this.ele.style.display="none";var e=new Ele.Layout("ele_shade_bg"),i=new Ele.Layout("ele_confirm_panel"),s=new Ele.Utils.WinInner,o=s.getWidth(),n=s.getHeight();i.ele.style.marginTop=n/2-50+"px",i.ele.style.marginLeft=o/2-150+"px";var l=new Ele.Layout("ele_confirm_divider ele_confirm_margin_top_20"),h=new Ele.Layout("ele_confirm_view");h.setAlign("center"),this._msg=new Ele.Label("确认继续该操作？","ele_confirm_txt"),h.add(this._msg);var s=new Ele.Layout("ele_confirm_btn_view"),r=new Ele.Layout("ele_confirm_btn_sure");r.setAlign("center"),r.ele.onmousedown=function(){r.ele.className="ele_confirm_btn_sure_over",t._onsuredown=!0},r.ele.onmouseup=function(){r.ele.className="ele_confirm_btn_sure",t._onsuredown=!1},r.ele.onmouseout=function(){t._onsuredown&&(r.ele.className="ele_confirm_btn_sure",t._onsuredown=!1)},r.ele.onclick=function(){t.hide(),null!=t._sureHandler&&t._sureHandler()};n=new Ele.Label("确定","ele_confirm_btn_txt");r.add(n);var o=new Ele.Layout("ele_confirm_divider_v"),a=new Ele.Layout("ele_confirm_btn_cancel");a.setAlign("center"),a.ele.onmousedown=function(){a.ele.className="ele_confirm_btn_cancel_over",t._onsuredown=!0},a.ele.onmouseup=function(){a.ele.className="ele_confirm_btn_cancel",t._onsuredown=!1},a.ele.onmouseout=function(){t._onsuredown&&(a.ele.className="ele_confirm_btn_cancel",t._onsuredown=!1)},a.ele.onclick=function(){t.hide(),null!=t.cancelHandler&&t.cancelHandler()};n=new Ele.Label("取消","ele_confirm_btn_txt");a.add(n),s.add(a),s.add(o),s.add(r),i.add(h),i.add(l),i.add(s),this.view.add(e),this.view.add(i)},e.prototype.setSureHandler=function(t){this._sureHandler=t},e.prototype.setCancelHandler=function(t){this.cancelHandler=t},e.prototype.setMsg=function(t){null!=this._msg&&this._msg.setText(t)},e.prototype.show=function(){null!=this.ele&&(this.ele.style.display="block")},e.prototype.hide=function(){null!=this.ele&&(this.ele.style.display="none")},e.prototype.close=function(){null!=this.ele&&(Ele.rootView.remove(this.view),this.ele=null)},this._init()}}(),function(){var t=Ele.Button=function(n){this.eleType="layout",this.ele,this.view,this.img,this._style,this._focusStyle,this._icon,this._focusIcon,this.data="",t.prototype._init=function(){this._style="ele_button",this._focusStyle="ele_button_focus",this.view=new Ele.Layout("ele_button"),this.ele=this.view.ele;var t,e,i=null,s=this,o=!1;"object"==typeof n&&(t="",e=" ele_ml2",n.iconRight&&(o=!0,t=" ele_ml2",e=""),void 0!==n.style&&(this.ele.className=n.style,this._style=n.style),void 0!==n.focusStyle&&(this._focusStyle=n.focusStyle),void 0!==n.icon&&(this.img=new Ele.Img(n.icon,"ele_button_icon"+t),this._icon=n.icon),void 0!==n.focusIcon&&(this._focusIcon=n.focusIcon),void 0!==n.text&&(i=new Ele.Label(n.text,"ele_label ele_button_txt"+e)),null!=i&&void 0!==n.textStyle&&(i.ele.className=n.textStyle+" ele_button_txt"+e),"function"==typeof n.onclick&&(this.ele.onclick=function(){n.onclick(s.data)})),o?(null!=i&&this.view.add(i),null!=this.img&&this.view.add(this.img)):(null!=this.img&&this.view.add(this.img),null!=i&&this.view.add(i)),this.ele.onmouseover=function(){s.ele.className=s._focusStyle,s._focusIcon&&(s.img.ele.src=s._focusIcon)},this.ele.onmouseout=function(){s.ele.className=s._style,s._focusIcon&&(s.img.ele.src=s._icon)}},this._init()},e=Ele.BigButton=function(o,n){this.eleType="layout",this.ele,this.view,this._ondown=!1,this._clickHandler=null,e.prototype._init=function(){var t="ele_big_button ele_big_button_blue",e="ele_big_button ele_big_button_blue_down";"string"==typeof n&&(e=(t="ele_big_button ele_big_button_"+n)+"_down"),this.view=new Ele.Layout(t),this.view.setAlign("center"),this.view.setHtml(o),this.ele=this.view.ele;var i=this.ele,s=this;i.onmousedown=function(){i.className=e,s._ondown=!0},i.onmouseup=function(){i.className=t,s._ondown=!1},i.onmouseout=function(){s._ondown&&(i.className=t,s._ondown=!1)},i.onclick=function(){null!=s._clickHandler&&s._clickHandler()}},e.prototype.setWidth=function(t){this.view.setWidth(t)},e.prototype.setClickHandler=function(t){this._clickHandler=t},e.prototype.removeClickHandler=function(){this._clickHandler=null},this._init()},n=Ele.CButton=function(i,s,o){this.eleType="layout",this.ele,this.view,this._ondown=!1,this._clickHandler=null,n.prototype._init=function(){this.view=new Ele.Layout(s),this.view.setAlign("center"),this.view.setHtml(i),this.ele=this.view.ele;var t=this.ele,e=this;t.onmousedown=function(){t.className=o,e._ondown=!0},t.onmouseup=function(){t.className=s,e._ondown=!1},t.onmouseout=function(){e._ondown&&(t.className=s,e._ondown=!1)},t.onclick=function(){null!=e._clickHandler&&e._clickHandler()}},n.prototype.setClickHandler=function(t){this._clickHandler=t},n.prototype.removeClickHandler=function(){this._clickHandler=null},this._init()}}(),function(){var t=Ele.CheckBox=function(){this.eleType="input",this.ele,t.prototype._init=function(){this.ele=document.createElement("input"),this.ele.type="checkbox",this.ele.className="ele_check_style"},this._init()},e=Ele.ICheckBox=function(i){this.eleType="img",this.ele,this.view,this.icon,this.selectedIcon,this._checked=!1,this._clickEvent=null,e.prototype.click=function(){this._checked?this.unChecked():this.checked(),null!=this._clickEvent&&this._clickEvent()},e.prototype.isChecked=function(){return this._checked},e.prototype.checked=function(){this.ele.src=this.selectedIcon,this._checked=!0},e.prototype.unChecked=function(){this.ele.src=this.icon,this._checked=!1},e.prototype.addClickEvent=function(t){this._clickEvent=t},e.prototype._init=function(){this._checked=!1,this.icon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_cb_none.png",this.selectedIcon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_cb_block.png";var t="ele_check_img";"object"==typeof i&&("string"==typeof i.style&&(t=i.style),"string"==typeof i.icon&&(this.icon=i.icon),"string"==typeof i.selectedIcon&&(this.selectedIcon=i.selectedIcon)),this.view=new Ele.Img(this.icon,t),this.ele=this.view.ele;var e=this;this.ele.onclick=function(){e.click()}},this._init()},i=Ele.CheckGroup=function(o){this.eleType="layout",this.ele,this.view,this._orientation="landscape",this._clickEvent=null,this._updateEvent=null,this._radios=[],this._disable,this._loadViewSize,this._loadCount,this._loadTotal,this._loadEvent=null,i.prototype.clearSelected=function(){for(var t=0;t<this._radios.length;t++)this._radios[t].isChecked()&&this._radios[t].unChecked()},i.prototype.allSelected=function(){for(var t=0;t<this._radios.length;t++)this._radios[t].isChecked()||this._radios[t].checked()},i.prototype.getSelectedValue=function(){for(var t=[],e=0;e<this._radios.length;e++)this._radios[e].isChecked()&&t.push(this._radios[e].getValue());return t},i.prototype.getIndexValue=function(t){return this._radios[t].getValue()},i.prototype.getSelectedText=function(){for(var t=[],e=0;e<this._radios.length;e++)this._radios[e].isChecked()&&t.push(this._radios[e].getText());return t},i.prototype.getSelectedIndex=function(){for(var t=[],e=0;e<this._radios.length;e++)this._radios[e].isChecked()&&t.push(e);return t},i.prototype.disable=function(t){if("boolean"==typeof t&&this._disable!=t){for(var e in this._radios)this._radios[e].able(!t);this._disable=t}},i.prototype.getIndexByValue=function(t){if(this._radios.length<0)return-1;for(var e=-1,i=0;i<this._radios.length;i++)if(this._radios[i].getValue()===t){e=i;break}return e},i.prototype.select=function(t){t<0||t>=this._radios.length||(this._radios[t].checked(),null!=this._updateEvent&&this._updateEvent(t))},i.prototype.unSelect=function(t){t<0||t>=this._radios.length||(this._radios[t].unChecked(),null!=this._updateEvent&&this._updateEvent(t))},i.prototype.selectByValue=function(t){t=this.getIndexByValue(t);-1!=t&&this.select(t)},i.prototype.unSelectByValue=function(t){t=this.getIndexByValue(t);-1!=t&&this.unSelect(t)},i.prototype.setItemClickEvent=function(t){this._clickEvent=t},i.prototype.setUpdateEvent=function(t){this._updateEvent=t},i.prototype._onAppendDraw=function(t,e){this._loadViewSize.push(new Ele.Utils.Size(t+8,e)),this._loadCount++,this._loadCount==this._loadTotal&&null!=this._loadEvent&&this._loadEvent(this._loadViewSize)},i.prototype._onItemClick=function(t){null!=this._clickEvent&&this._clickEvent(t),this._disable||null==this._updateEvent||this._updateEvent(t)},i.prototype._init=function(){this._disable=!1;var t=[];void 0!==o&&("function"==typeof o.onload&&(this._loadEvent=o.onload),"function"==typeof o.itemClick&&(this._clickEvent=o.itemClick),"function"==typeof o.selectChange&&(this._updateEvent=o.selectChange),void 0!==o.orientation&&"portrait"==o.orientation&&(this._orientation="portrait"),"boolean"==typeof o.disable&&o.disable&&(this._disable=o.disable),Ele._isArray(o.items)&&(t=o.items)),"landscape"==this._orientation?this.view=new Ele.HLayout("ele_nocrspace"):this.view=new Ele.VLayout("ele_nocrspace"),this.ele=this.view.ele,this._loadViewSize=[],this._loadCount=0,this._loadTotal=t.length;var e=this;if(0<t.length)for(var i=0;i<t.length;i++){void 0===t[i].icon&&(t[i].icon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_check_unselect.png"),void 0===t[i].selectedIcon&&(t[i].selectedIcon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_check_select.png");var s=new Ele.IRadio(t[i]);s.setCancel(!0),this._disable&&s.able(!1),s.eleId=i,s.addClickEvent(function(){e._onItemClick(this.eleId)}),s.onDraw(function(){e._onAppendDraw(this.ele.offsetWidth,this.ele.offsetHeight)}),this._radios.push(s),this.view.add(s,{padding:"0 0 0 8px"})}},this._init()}}(),function(){var t=Ele.DateBox=function(o){this.eleType="layout",this.ele,this.view,this.edit,this.windowType,this.dateView,this.masking,this.position,this.offset,this._disable,this._itemClickEvent=null,this._updateEvent=null,this._onErrorResponse=null,t.prototype.setWindowOffset=function(t){this.windowType&&(this.offset=t)},t.prototype.setOnItemClick=function(t){"function"==typeof t&&(this._itemClickEvent=t)},t.prototype.setOnSelectChange=function(t){"function"==typeof t&&(this._updateEvent=t)},t.prototype.setValue=function(t){void 0!==t&&(t instanceof Date?this.dateView.setDate(t):"string"==typeof t&&this.dateView.setDateString(t))},t.prototype.reset=function(){this.edit.setValue(""),this.dateView.setDate(new Date)},t.prototype.setPattern=function(t){this.dateView.setPattern(t)},t.prototype.getValue=function(){return this.edit.getValue()},t.prototype.showErrorStyle=function(){this.ele.className="ele_datebox_style_error"},t.prototype.clearErrorStyle=function(){this.ele.className="ele_datebox"},t.prototype.expend=function(){var t;this.windowType?(this.position.inBottomLeft(this.view.ele),null!=this.offset&&this.offset instanceof Ele.Utils.Size&&this.position.setOffset(this.offset),this.masking.setContent(this.dateView,this.position),this.masking.showMasking(),this.dateView.show(),(t=this).masking.setHiddenHandler(function(){t._onBlur()})):(this.masking.setContentNone(),this.masking.showMasking(),(t=this).masking.setHiddenHandler(function(){t._onBlur()}),this.dateView.show())},t.prototype.hide=function(){this.windowType||this.dateView.hide(),this.masking.hideMasking()},t.prototype.setDisable=function(t){"boolean"==typeof t&&(this._disable=t,this.edit.ele.readOnly=t)},t.prototype._onItemClick=function(t){null!=this._itemClickEvent&&this._itemClickEvent(),this.ele.className="ele_datebox",this.hide()},t.prototype._onSelectUpdate=function(){null!=this._itemClickEvent&&this._itemClickEvent(),this.ele.className="ele_datebox",this.hide(),this.edit.setValue(this.dateView.getSelectDateString())},t.prototype._onBlur=function(){this.ele.className="ele_datebox",this.edit.setValue(this.dateView.getSelectDateString()),this.windowType||(this.dateView.hide(),this.masking.hideMasking())},t.prototype._onFocus=function(){this._disable?this.ele.className="ele_datebox_disable_focus":(this.ele.className="ele_datebox_focus",this.edit.setValue(this.dateView.getSelectDateString()),this.expend())},t.prototype._updateValue=function(){var t=this.getValue();""!=t.trim()&&t.length>=this.dateView.getPattern().length&&this.dateView.validateDateString(t)&&this.setValue(t)},t.prototype._init=function(){this.view=new Ele.Layout("ele_datebox"),this.ele=this.view.ele,this._disable=!1,this.windowType=!1;var e=this;this.masking=Ele.masking,"object"==typeof o&&(void 0!==o.style&&(this.ele.className=o.style),"boolean"==typeof o.disable&&o.disable&&(this._disable=o.disable),"function"==typeof o.onItemClick&&(this._itemClickEvent=o.onItemClick),"function"==typeof o.selectChange&&(this._updateEvent=o.selectChange),"boolean"==typeof o.windowType&&o.windowType&&(this.windowType=!0)),this.dateView=new n,this.dateView.setItemClickHandler(function(t){e._onItemClick(t)}),this.dateView.setSelectUpdateHandler(function(){e._onSelectUpdate()}),this.windowType?this.position=new Ele.Utils.Position:(this.dateView.ele.style.zIndex=this.masking.maxZIndex+1,this.dateView.ele.style.marginTop="33px",this.view.add(this.dateView));var t=new Ele.HLayout("ele_datebox_panle");t.ele.onclick=function(){e._onFocus()},this.edit=new Ele.TextBox({style:"ele_datebox_intut_style"}),this.edit.ele.onblur=function(t){e._updateValue()},this._disable&&(this.edit.ele.readOnly=!0),t.add(this.edit);var i=new Ele.Layout("ele_datebox_icon_view"),s=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_date.png","ele_datebox_icon");i.add(s),t.add(i),this.view.add(t)},this._init()},n=Ele.DateView=function(){this.eleType="layout",this.ele,this.view,this.dateText,this.daysView=[],this._year,this._month,this._day,this._dateFormat,this._selected=null,this._selectedDateString="",this._itemClickHandler=null,this._selectedUpdateHandler=null,this._pageUpdateHandler=null,n.prototype.initView=function(){var t=this;this.view=new Ele.Layout("ele_dateview_panel"),this.ele=this.view.ele;var e=new Ele.HLayout("ele_dateview_title_view"),i=new Ele.Layout("ele_dateview_title_left_view");i.setAlign("center");var s=new Ele.Layout("ele_dateview_title_center_view");s.setAlign("center");var o=new Ele.Layout("ele_dateview_title_right_view");o.setAlign("center");var n=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_left.png","ele_dateview_title_icon ele_ml20");n.ele.onclick=function(){t.previousMonth()};var l=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_2_left.png","ele_dateview_title_icon");l.ele.onclick=function(){t.previousYear()},this.dateText=new Ele.Label(this._year+"-"+this._month,"ele_dateview_date_txt");var h=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_right.png","ele_dateview_title_icon");h.ele.onclick=function(){t.nextMonth()};var r=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_2_right.png","ele_dateview_title_icon ele_ml20");r.ele.onclick=function(){t.nextYear()},i.add(l),i.add(n),s.add(this.dateText),o.add(h),o.add(r),e.add(i,{width:"25%"}),e.add(s,{width:"50%"}),e.add(o,{width:"25%"});var a,d=new Ele.Layout("ele_dateview_week_view"),p=["一","二","三","四","五","六","日"];for(a in p){var c=new Ele.Layout("ele_dateview_week_item");c.setAlign("center"),c.setHtml(p[a]),d.add(c)}o=new Ele.Layout("ele_cl");d.add(o),this.view.add(e),this.view.add(d);e=new Ele.Layout("ele_dateview_divider");this.view.add(e);for(var u=0;u<6;u++){for(var _=new Ele.HLayout("ele_dateview_line_view"),f=[],g=0;g<7;g++){var y=new w;_.add(y,{padding:"0 0 0 8px"}),f.push(y)}this.daysView.push(f),this.view.add(_)}},n.prototype.initDate=function(){var t=new Date;this._year=t.getFullYear(),this._month=t.getMonth()+1,this._day=t.getDate(),this._dateFormat=new Ele.Utils.DateFormat},n.prototype.initData=function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),o=this,n=this.getArrayData(),l=this.toYearMonthString();this._selected=null;for(var h=0;h<6;h++)for(var r=0;r<7;r++){var a,d=n[h][r],p=this.daysView[h][r];p.setHtml(d),""==d?(p.removeClickHandler(),p.ele.className="ele_dateview_line_item"):(p.addClickHandler(function(t){o._onItemClick(t)}),p.setData(d),p.ele.className="ele_dateview_line_item ele_dateview_line_item_full",4<r&&(p.isWeek=!0,p.ele.className="ele_dateview_line_item ele_dateview_line_item_week"),a=d,new Number(d)<10&&(a="0"+d),l+"-"+a==this._selectedDateString&&(p.ele.className="ele_dateview_line_item ele_dateview_line_item_select",this._selected=p)),this._year==e&&this._month==i&&new Number(d)==s&&(p.isToday=!0,p.ele.className="ele_dateview_line_item ele_dateview_line_item_today")}},n.prototype.setSelectUpdateHandler=function(t){"function"==typeof t&&(this._selectedUpdateHandler=t)},n.prototype.removeSelectUpdateHandler=function(){this._selectedUpdateHandler=null},n.prototype.setItemClickHandler=function(t){"function"==typeof t&&(this._itemClickHandler=t)},n.prototype.removeItemClickHandler=function(){this._itemClickHandler=null},n.prototype.setPageUpdateHandler=function(t){"function"==typeof t&&(this._pageUpdateHandler=t)},n.prototype.removePageUpdateHandler=function(){this._pageUpdateHandler=null},n.prototype.getSelectDateString=function(){return this._selectedDateString},n.prototype._onItemClick=function(t){if(null!=this._selected){if(t.data==this._selected.data)return null!=this._itemClickHandler&&this._itemClickHandler(this._selectedDateString),void this.hide();this._selected.isToday||(this._selected.isWeek?this._selected.ele.className="ele_dateview_line_item ele_dateview_line_item_week":this._selected.ele.className="ele_dateview_line_item ele_dateview_line_item_full")}t.isToday||(t.ele.className="ele_dateview_line_item ele_dateview_line_item_select"),this._selected=t,this._day=new Number(t.data),this._selectedDateString=this.toDateString(),null!=this._itemClickHandler&&this._itemClickHandler(this._selectedDateString),this.hide(),null!=this._selectedUpdateHandler&&this._selectedUpdateHandler()},n.prototype.getArrayData=function(){var t=new Date(this._year,this._month-1,1).getDay();0==t&&(t=7);for(var e=new Array,i=1,s=this.getDays(),o=0;o<6;o++){for(var n=new Array,l=0;l<7;l++)0==o&&l<t-1||s<i?n.push(""):(n.push(""+i),i++);e.push(n)}return e},n.prototype.getDays=function(){var t=31;return 2==this._month&&(t=28,this._year%4==0&&(t=29)),4!=this._month&&6!=this._month&&9!=this._month&&11!=this._month||(t=30),t},n.prototype.setPattern=function(t){this._dateFormat.setPattern(t)},n.prototype.getPattern=function(){return this._dateFormat.getPattern()},n.prototype.toDate=function(){return new Date(this._year,this._month-1,this._day)},n.prototype.toDateString=function(){var t=this.toDate();return this._dateFormat.format(t)},n.prototype.setDate=function(t){return t instanceof Date&&(this._year=t.getFullYear(),this._month=t.getMonth()+1,this._day=t.getDate(),this._selectedDateString=this.toDateString(),this.initData(),this.dateText.ele.innerHTML=this.toYearMonthString(),null!=this._selectedUpdateHandler&&this._selectedUpdateHandler(),!0)},n.prototype.setDateString=function(t){if("string"!=typeof t)return!1;var e=null;try{e=this._dateFormat.parse(t)}catch(t){console.log(t.message)}return null!=e&&(e instanceof Date&&""!=e.getTime()&&!isNaN(e.getTime())&&this.setDate(e))},n.prototype.validateDateString=function(t){if("string"!=typeof t)return!1;var e=null;try{e=this._dateFormat.parse(t)}catch(t){}return e instanceof Date&&""!=e.getTime()&&!isNaN(e.getTime())},n.prototype.toYearMonthString=function(){var t=this._year,e=this._month+"";return this._month<10&&(e="0"+e),t+"-"+e},n.prototype.previousMonth=function(){var t=this._month-1;if(t<1){if(this._year-1<1970)return;this._year--,this._month=12}else this._month=t;t=null,this.initData(),this.dateText.ele.innerHTML=this.toYearMonthString(),null!=this._pageUpdateHandler&&this._pageUpdateHandler()},n.prototype.previousYear=function(){this._year-1<1970||(this._year--,this.initData(),this.dateText.ele.innerHTML=this.toYearMonthString(),null!=this._pageUpdateHandler&&this._pageUpdateHandler())},n.prototype.nextMonth=function(){var t=this._month+1;12<t?(this._year++,this._month=1):this._month=t,t=null,this.initData(),this.dateText.ele.innerHTML=this.toYearMonthString(),null!=this._pageUpdateHandler&&this._pageUpdateHandler()},n.prototype.nextYear=function(){this._year++,this.initData(),this.dateText.ele.innerHTML=this.toYearMonthString(),null!=this._pageUpdateHandler&&this._pageUpdateHandler()},n.prototype.hide=function(){this.view.ele.style.display="none"},n.prototype.show=function(){this.view.ele.style.display="block"},this.initDate(),this.initView(),this.initData()},w=function(t){this.eleType="layout",this.ele,this.view,this.data="",this.isWeek=!1,this.isToday=!1,this._clickHandle=null,w.prototype.addClickHandler=function(t){this._clickHandle=t},w.prototype.removeClickHandler=function(){this._clickHandle=null},w.prototype.setData=function(t){this.data=t},w.prototype.setHtml=function(t){this.view.setHtml(t)},w.prototype._onClickEvent=function(){null!=this._clickHandle&&this._clickHandle(this)},w.prototype._init=function(){this.view=new Ele.Layout("ele_dateview_line_item"),this.ele=this.view.ele;var t=this;this.ele.onclick=function(){t._onClickEvent()}},this._init()}}(),function(){var e=Ele.Element=function(t){this.eleType="ele",this.ele,e.prototype._init=function(){this.ele=document.getElementById(t)},e.prototype.add=function(t){this.ele.appendChild(t.ele)},e.prototype.remove=function(t){this.ele.removeChild(t.ele)},this._init()},i=Ele.Form=function(t){this.eleType="form",this.ele,i.prototype.add=function(t){this.ele.appendChild(t.ele)},i.prototype.setAction=function(t){"string"==typeof t&&(this.ele.action=t)},i.prototype._init=function(){this.ele=document.createElement("form"),this.setAction(t)},this._init()},s=Ele.Img=function(t,e){this.eleType="img",this.ele,s.prototype._init=function(){this.ele=document.createElement("img"),this.ele.src=t,"string"==typeof e&&(this.ele.className=e)},this._init()}}(),function(){var r=Ele.Label=function(t,e){this.eleType="span",this.ele,r.prototype.setText=function(t){this.ele.innerHTML=t},r.prototype.getText=function(){return this.ele.innerHTML},r.prototype._init=function(){this.ele=document.createElement("span"),this.ele.className="string"==typeof e?e:"ele_label","string"==typeof t&&(this.ele.innerHTML=t)},this._init()},t=Ele.IconLabel=function(e){this.eleType="layout",this.ele,this.view,this._icon,this._focusIcon,this.data="",t.prototype._init=function(){this.view=new Ele.Layout("ele_icon_label ele_icon_label_def"),this.ele=this.view.ele;var t=this;"object"==typeof e&&(void 0!==e.style&&(this.ele.className=e.style,this._style=e.style),void 0!==e.icon&&(this.ele.style.backgroundImage="url('"+e.icon+"')",this._icon=e.icon),void 0!==e.focusIcon&&(this._focusIcon=e.focusIcon),void 0!==e.text&&this.view.setHtml(e.text),"function"==typeof e.onclick&&(this.ele.onclick=function(){e.onclick(t.data)})),this.ele.onmouseover=function(){void 0!==t._focusIcon&&(t.ele.style.backgroundImage="url('"+t._focusIcon+"')")},this.ele.onmouseout=function(){void 0!==t._focusIcon&&void 0!==t._icon&&(t.ele.style.backgroundImage="url('"+t._icon+"')")}},this._init()},e=Ele.MenuLabel=function(h){this.eleType="layout",this.ele,this.view,this.childrenViews,this.windowType,this.masking,this.position,this.offset,this._itemClickEvent=null,this._rootData,e.prototype.setWindowOffset=function(t){this.windowType&&(this.offset=t)},e.prototype.setText=function(t){this.ele.innerHTML=t},e.prototype.showChildren=function(){if(this.windowType)return this.position.inBottomLeft(this.view.ele),null!=this.offset&&this.offset instanceof Ele.Utils.Size&&this.position.setOffset(this.offset),this.masking.setContent(this.childrenViews,this.position),void this.masking.showMasking();this.masking.setContentNone(),this.masking.showMasking();var t=this;this.masking.setHiddenHandler(function(){t.hideChildren()}),this.childrenViews.ele.style.display="block"},e.prototype.hideChildren=function(){this.windowType||(this.childrenViews.ele.style.display="none"),this.masking.hideMasking()},e.prototype.addChild=function(t){var e,i=this;"object"==typeof t&&(e=new Ele.Layout("ele_menu_label_children_item"),"string"==typeof t.text&&e.setHtml(t.text),void 0!==t.data&&(e.ele.eledata=t.data),e.ele.onclick=function(){i.hideChildren(),i._onItemClick(!1,this.eledata)},this.childrenViews.add(e))},e.prototype._onItemClick=function(t,e){null!=this._itemClickEvent&&(void 0!==e?this._itemClickEvent(t,e):this._itemClickEvent(t))},e.prototype._init=function(){this.view=new Ele.Layout("ele_menu_label"),this.ele=this.view.ele;var t=this;this.masking=Ele.masking;var e=null,i=null,s=!1;"object"==typeof h&&(void 0!==h.style&&(this.ele.className=h.style),void 0!==h.icon&&(e=new Ele.Img(h.icon,"ele_menu_label_icon")),void 0!==h.text&&(i=new r(h.text,"ele_ml4")),"function"==typeof h.onItemClick&&(this._itemClickEvent=h.onItemClick),void 0!==h.data&&(this._rootData=h.data),"object"==typeof h.children&&Ele._isArray(h.children)&&(s=!0),"boolean"==typeof h.windowType&&h.windowType&&(this.windowType=!0));var o=new Ele.HLayout("ele_menu_label_panel");if(this.windowType?(this.childrenViews=new Ele.Layout("ele_menu_label_children_wt"),this.childrenViews.setAlign("center"),this.position=new Ele.Utils.Position):(this.childrenViews=new Ele.Layout("ele_menu_label_children"),this.childrenViews.setAlign("center"),this.childrenViews.ele.style.zIndex=this.masking.maxZIndex+1,this.view.add(this.childrenViews)),null!=e&&o.add(e),null!=i&&o.add(i),o.ele.onclick=function(){s&&t.showChildren(),t._onItemClick(!0,t._rootData)},this.view.add(o),s){for(var n,l=0;l<h.children.length;l++)this.addChild(h.children[l]),l<h.children.length-1&&(n=new Ele.Layout("ele_menu_label_children_divider"),this.childrenViews.add(n));i=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_down.png","ele_menu_label_children_icon");o.add(i)}},this._init()}}(),function(){var s=Ele.Layout=function(t){this.eleType="div",this.ele,s.prototype._init=function(){this.ele=document.createElement("div"),"string"==typeof t&&(this.ele.className=t)},s.prototype.setSize=function(t,e){this.ele.style.width=t,this.ele.style.height=e},s.prototype.setWidth=function(t){this.ele.style.width=t},s.prototype.setHeight=function(t){this.ele.style.height=t},s.prototype.setLineHeight=function(t){this.ele.style.lineHeight=t},s.prototype.setOverflow=function(t){this.ele.style.overflow=t},s.prototype.setOverflowX=function(t){this.ele.style.overflowX=t},s.prototype.setOverflowY=function(t){this.ele.style.overflowY=t},s.prototype.setContainer=function(t){t.appendChild(this.ele)},s.prototype.setContainerById=function(t){document.getElementById(t).appendChild(this.ele)},s.prototype.add=function(t){this.ele.appendChild(t.ele)},s.prototype.remove=function(t){this.ele.removeChild(t.ele)},s.prototype.setHtml=function(t){this.ele.innerHTML=void 0!==t?t:""},s.prototype.setAlign=function(t){this.ele.align=t},s.prototype.clear=function(){this.ele.innerHTML=""},this._init()},e=Ele.HLayout=function(t){this.eleType="layout",this.ele,this.view,this._clView,this._width,this._height,e.prototype.setSize=function(t,e){this.view.setSize(t,e),this._width=t,this._height=e},e.prototype.setContainer=function(t){this.view.setContainer(t)},e.prototype.setContainerById=function(t){this.view.setContainerById(t)},e.prototype.add=function(t,e){var i=new s("ele_bs_border ele_fl");null==this._height?i.setHeight("100%"):i.setHeight(this._height),"object"==typeof e&&null!=e&&(e.float&&"right"==e.float&&(i.ele.className="ele_fr"),e.width&&i.setWidth(e.width),e.align&&(i.ele.align=e.align),e.padding&&(i.ele.style.padding=e.padding)),i.add(t),this.view.remove(this._clView),this.view.add(i),this.view.add(this._clView)},e.prototype.clear=function(){this.view.clear(),this.view.add(this._clView)},e.prototype.getView=function(){return this.view},e.prototype._init=function(){"string"!=typeof t&&(t="ele_layout"),this.view=new s(t),this._clView=new s("ele_cl"),this.view.add(this._clView),this.ele=this.view.ele},this._init()},i=Ele.VLayout=function(t){this.eleType="layout",this.ele,this.view,this._width,this._height,i.prototype.setSize=function(t,e){this.view.setSize(t,e),this._width=t,this._height=e},i.prototype.add=function(t,e){var i=new s("ele_bs_border");null==this._width?i.setWidth("100%"):i.setWidth(this._width),i.setHeight("auto"),"object"==typeof e&&null!=e&&(e.heigth&&i.setHeight(e.heigth),e.align&&(i.ele.align=e.align),e.padding&&(i.ele.style.padding=e.padding)),i.add(t),this.view.add(i)},i.prototype.setContainer=function(t){this.view.setContainer(t)},i.prototype.setContainerById=function(t){this.view.setContainerById(t)},i.prototype.getView=function(){return this.view},i.prototype.clear=function(){this.view.clear()},i.prototype._init=function(){"string"!=typeof t&&(t="ele_layout"),this.view=new s(t),this.ele=this.view.ele},this._init()}}(),function(){var t=Ele.ListGrid=function(u){this.eleType="layout",this.ele,this.count=0,this.view,this.fields,this.width,this.height,this.itemWidth=120,this.itemHeight=40,this.titleHeight=40,this.oprs,this.selectOpr=null,this.selectArray=[],this.main_pr=0,this.main_pl=0,this.titleView,this.listView,this.oprsWidth=120,this.selectOprWidth=80,t.prototype.getSelect=function(){var t=[];if(this.selectArray.length<1)return t;for(var e=0;e<this.selectArray.length;e++){var i=this.selectArray[e];i.isChecked()&&t.push(i.data)}return t},t.prototype.selectAll=function(){if(!(this.selectArray.length<1))for(var t=0;t<this.selectArray.length;t++){var e=this.selectArray[t];e.isChecked()||e.checked()}},t.prototype.unSelectAll=function(){if(!(this.selectArray.length<1))for(var t=0;t<this.selectArray.length;t++){var e=this.selectArray[t];e.isChecked()&&e.unChecked()}},t.prototype.addRow=function(t){if("object"==typeof u){0==this.count&&this.listView.getView().clear();var e="ele_listgrid_bg_double";this.count%2==0&&(e="ele_listgrid_bg_single");var i=new Ele.Layout("ele_listgrid_line_view "+e);i.setSize("100%",this.itemHeight+"px"),i.ele.rowcss="ele_listgrid_line_view "+e,null!=this.selectOpr&&((e=new Ele.Layout("ele_listgrid_cb ele_listgrid_br")).setHeight(this.itemHeight+"px"),e.setLineHeight(this.itemHeight+"px"),e.setWidth(this.selectOprWidth+"px"),e.setAlign("center"),(s=new Ele.ICheckBox).ele.style.marginTop=(this.itemHeight-16)/2+"px",s.data=t,e.add(s),i.add(e),this.selectArray.push(s));var s=new Ele.HLayout("ele_listgrid_line_bar");if(null!=this.oprs){var o=new Ele.HLayout("ele_listgrid_item");if(o.getView().setHeight(this.itemHeight+"px"),o.getView().setWidth(this.oprsWidth+"px"),o.getView().setAlign("center"),void 0!==this.oprs.menus&&0<this.oprs.menus.length)for(var n,l=(this.itemHeight-26)/2,h=0;h<this.oprs.menus.length;h++)"function"==typeof this.oprs.menus[h].format&&!this.oprs.menus[h].format(t)||((n=new Ele.IconLabel(this.oprs.menus[h])).data=t,o.add(n,{padding:l+"px 0px 0px 4px"}));s.add(o)}i.add(s);var r,a=new Ele.HLayout("ele_listgrid_title_item_view");for(r in a.setSize("100%",this.itemHeight+"px"),a.ele.style.padding="0px "+(this.main_pr-8)+"px 0px "+this.main_pl+"px",this.fields){var d=new Ele.Layout("ele_listgrid_item");d.setHeight(this.itemHeight+"px"),d.setLineHeight(this.itemHeight+"px");var p,c=this.itemWidth+"px";void 0!==this.fields[r].fieldWidth?("number"==typeof this.fields[r].fieldWidth&&(c=this.fields[r].fieldWidth+"px"),"string"==typeof this.fields[r].fieldWidth&&(c=this.fields[r].fieldWidth)):null==this.width&&(c=this.itemWidth+"%"),d.setAlign("center"),"function"==typeof this.fields[r].format?(p=this.fields[r].format(t),Ele._isElement(p)?d.setHtml(p.outerHTML):p&&"string"==typeof p.eleType?d.add(p):d.setHtml(p)):d.setHtml(t[this.fields[r].fieldName]),a.add(d,{width:c})}i.add(a),i.ele.onmouseover=function(){this.className="ele_listgrid_line_view ele_listgrid_bg_over"},i.ele.onmouseout=function(){this.className=this.rowcss},this.listView.add(i,{height:this.itemHeight+"px"}),this.count++}},t.prototype.clear=function(){this.listView.clear(),this.addEmpty(),this.count=0,this.selectArray=[]},t.prototype.addEmpty=function(){var t=new Ele.Layout("ele_listgrid_item ele_listgrid_empty_txt");t.setLineHeight("40px"),t.setHtml("无数据"),t.setAlign("center"),this.listView.add(t)},t.prototype._init=function(){this.view=new Ele.Layout("ele_listgrid_view"),this.ele=this.view.ele;var t=this,e=!0;if("object"==typeof u&&("number"==typeof u.widthPx&&(this.view.setWidth(u.widthPx+"px"),this.width=u.widthPx),"number"==typeof u.heightPx&&(this.view.setHeight(u.heightPx+"px"),this.height=u.heightPx),"number"==typeof u.itemHeightPx&&(this.itemHeight=u.itemHeightPx),"boolean"!=typeof u.canScoll||u.canScoll||(e=!1),"object"==typeof u.fields&&(this.fields=u.fields),"object"==typeof u.operations&&(this.oprs=u.operations,"number"==typeof this.oprs.width&&(this.oprsWidth=this.oprs.width)),"object"==typeof u.selectOpr&&(this.selectOpr=u.selectOpr,"number"==typeof this.selectOpr.width&&(this.selectOprWidth=this.selectOpr.width))),null!=this.fields){var i,s=this.fields.length,o=8;null!=this.oprs&&(o+=this.oprsWidth),null!=this.selectOpr&&(o+=this.selectOprWidth),null!=this.width?this.itemWidth=(this.width-o)/s:this.itemWidth=100/s,this.titleView=new Ele.Layout("ele_listgrid_title_view"),null!=this.selectOpr&&((n=new Ele.Layout("ele_listgrid_title_cb")).setHeight(this.titleHeight+"px"),n.setLineHeight(this.titleHeight+"px"),n.setWidth(this.selectOprWidth+"px"),this.main_pl+=this.selectOprWidth,n.setAlign("center"),(i=new Ele.ICheckBox).addClickEvent(function(){i.isChecked()?t.selectAll():t.unSelectAll()}),i.ele.style.marginTop="12px",n.add(i),s=new Ele.Label("全选","ele_listgrid_cb_title"),n.add(s),this.titleView.add(n));var n=new Ele.HLayout("ele_listgrid_title_bar");null!=this.oprs&&((l=new Ele.Layout("ele_listgrid_title ele_listgrid_br")).setHeight(this.titleHeight+"px"),l.setLineHeight(this.titleHeight+"px"),l.setWidth(this.oprsWidth+"px"),this.main_pr+=this.oprsWidth,l.setAlign("center"),l.setHtml("操作"),n.add(l));var l=new Ele.Layout("ele_listgrid_title ele_listgrid_bsbb");l.setSize("8px",this.titleHeight+"px"),n.add(l),this.main_pr+=8,this.titleView.add(n);var h,r=new Ele.HLayout("ele_listgrid_title_item_view");for(h in r.ele.style.padding="0px "+this.main_pr+"px 0px "+this.main_pl+"px",this.fields){var a=new Ele.Layout("ele_listgrid_title ele_listgrid_br");a.setHeight(this.titleHeight+"px"),a.setLineHeight(this.titleHeight+"px");var d=this.itemWidth+"px";void 0!==this.fields[h].fieldWidth?("number"==typeof this.fields[h].fieldWidth&&(d=this.fields[h].fieldWidth+"px"),"string"==typeof this.fields[h].fieldWidth&&(d=this.fields[h].fieldWidth)):null==this.width&&(d=this.itemWidth+"%"),a.setAlign("center"),a.setHtml(this.fields[h].textName),r.add(a,{width:d})}this.titleView.add(r),this.view.add(this.titleView)}n=new Ele.Layout("ele_listgrid_list_panel"),e=e?"ele_listgrid_list_view ele_scrollbar":"ele_listgrid_list_view_no_scoll";this.listView=new Ele.VLayout(e),this.addEmpty(),n.add(this.listView),this.view.add(n)},this._init()}}(),function(){var e=Ele.Audio=function(t){this.eleType="media/audio",this.ele,e.prototype._init=function(){this.ele=document.createElement("audio"),this.ele.src=t,this.ele.className="ele_audio",this.ele.setAttribute("controls","controls"),this.ele.innerHTML="您的浏览器不支持音频组件"},this._init()},s=Ele.Video=function(t,e,i){this.eleType="media/video",this.ele,s.prototype._init=function(){"number"!=typeof e&&(e=320),"number"!=typeof i&&(i=240),this.ele=document.createElement("video"),this.ele.src=t,this.ele.className="ele_video",this.ele.setAttribute("width",e),this.ele.setAttribute("height",i),this.ele.setAttribute("controls","controls"),this.ele.innerHTML="您的浏览器不支持视频组件"},this._init()}}(),function(){var i=Ele.PopWindow=function(t,e){this.eleType="layout",this.ele,this.bgView,this.view,this.width=208,this.height=128,"number"==typeof t&&(this.width=t+8),"number"==typeof e&&(this.height=e+32),this.title,this.contentView,i.prototype.init=function(){var t=this;this.bgView=new Ele.Layout("ele_popwindow_bg_view"),this.view=new Ele.Layout("ele_popwindow_view"),this.ele=this.view.ele,this.view.setSize(this.width+"px",this.height+"px");var e=new Ele.Utils.WinInner,i=(e.getWidth()-this.width)/2,s=(e.getHeight()-this.height)/2;this.ele.style.left=i+"px",this.ele.style.top=s+"px";var o=new Ele.Layout("ele_popwindow_title_view");o.setWidth(this.width-8+"px");var n=new Ele.Layout("ele_popwindow_title_name_view");n.setWidth(this.width-38+"px"),this.title=new Ele.Label("","ele_popwindow_txt_title"),n.add(this.title);e=new Ele.Layout("ele_popwindow_title_close_view"),i=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_close.png","ele_popwindow_title_icon_close");i.ele.onclick=function(){t.hide()};s=new Ele.Layout("ele_cl");e.add(i),o.add(n),o.add(e),o.add(s),this.contentView=new Ele.Layout("ele_popwindow_content_view"),this.contentView.setSize(this.width-8+"px",this.height-32+"px"),this.view.add(o),this.view.add(this.contentView),Ele.rootView.add(this.bgView),Ele.rootView.add(this.view)},i.prototype.setTitle=function(t){this.title.setText(t)},i.prototype.show=function(){null!=this.bgView&&(this.bgView.ele.style.display="block"),null!=this.view&&(this.view.ele.style.display="block")},i.prototype.addView=function(t){this.contentView.add(t)},i.prototype.hide=function(){null!=this.bgView&&(this.bgView.ele.style.display="none"),null!=this.view&&(this.view.ele.style.display="none")},this.init()}}(),function(){var t=Ele.Radio=function(){this.eleType="input",this.ele,t.prototype._init=function(){this.ele=document.createElement("input"),this.ele.type="radio"},this._init()},n=Ele.IRadio=function(o){this.eleType="layout",this.ele,this.view,this.icon,this.selectedIcon,this._able,this._cancel,this._text,this._value,this._checked=!1,this._clickEvent=null,this._drawEvent=null,this._data=null,n.prototype.click=function(){this._able&&this.update(),null!=this._clickEvent&&this._clickEvent()},n.prototype.update=function(){this._checked?this._cancel&&this.unChecked():this.checked()},n.prototype.onDraw=function(t){"function"==typeof t&&(this._drawEvent=t)},n.prototype.isChecked=function(){return this._checked},n.prototype.getValue=function(){return this._value},n.prototype.able=function(t){"boolean"==typeof t&&(this._able=t)},n.prototype.getText=function(){return this._text},n.prototype.checked=function(){this.ele.style.backgroundImage="url("+this.selectedIcon+")",this._checked=!0},n.prototype.setCancel=function(t){"boolean"==typeof t&&(this._cancel=t)},n.prototype.unChecked=function(){this.ele.style.backgroundImage="url("+this.icon+")",this._checked=!1},n.prototype.addClickEvent=function(t){this._clickEvent=t},n.prototype._init=function(){var t="",e="";this.icon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_radio_unselect.png",this.selectedIcon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_radio_select.png";var i="ele_radio";this._able=!0,this._cancel=!1,void 0!==o&&("string"==typeof o.style&&(i=o.style),"boolean"==typeof o.cancel&&(this._cancel=o.cancel),"string"==typeof o.icon&&(this.icon=o.icon),"string"==typeof o.selectedIcon&&(this.selectedIcon=o.selectedIcon),"string"==typeof o.text&&(t=o.text),void 0!==o.value&&(e=o.value),"function"==typeof o.clickEvent&&(this._clickEvent=o.clickEvent)),this._checked=!1,this._text=t,this._value=e,this.view=new Ele.Layout(i),this.ele=this.view.ele,this.ele.style.backgroundImage="url("+this.icon+")",this.view.setHtml(t);var s=this;this.ele.onclick=function(){s.click()},setTimeout(function(){null!=s._drawEvent&&s._drawEvent()},0)},this._init()},e=Ele.RadioBox=function(o){this.eleType="layout",this.ele,this.view,this._orientation="landscape",this._clickEvent=null,this._updateEvent=null,this._radios=[],this._selectIndex,this._disable,e.prototype.getSelectedValue=function(){return this._radios[this._selectIndex].getValue()},e.prototype.getIndexValue=function(t){return this._radios[t].getValue()},e.prototype.getSelectedText=function(){return this._radios[this._selectIndex].getText()},e.prototype.getSelectedIndex=function(){return this._selectIndex},e.prototype.disable=function(t){if("boolean"==typeof t&&this._disable!=t){for(var e in this._radios)this._radios[e].able(!t);this._disable=t}},e.prototype.getIndexByValue=function(t){if(this._radios.length<0)return-1;for(var e=-1,i=0;i<this._radios.length;i++)if(this._radios[i].getValue()===t){e=i;break}return e},e.prototype.select=function(t){t!=this._selectIndex&&(this._radios[this._selectIndex].unChecked(),this._radios[t].checked(),this._selectIndex=t,null!=this._updateEvent&&this._updateEvent(t))},e.prototype.selectByValue=function(t){t=this.getIndexByValue(t);-1!=t&&this.select(t)},e.prototype.onItemClick=function(t){null!=this._clickEvent&&this._clickEvent(t),this._disable||this.select(t)},e.prototype.setItemClickEvent=function(t){this._clickEvent=t},e.prototype.setUpdateEvent=function(t){this._updateEvent=t},e.prototype._init=function(){this._disable=!1;var t=[];void 0!==o&&("function"==typeof o.itemClick&&(this._clickEvent=o.itemClick),"function"==typeof o.selectChange&&(this._updateEvent=o.selectChange),void 0!==o.orientation&&"portrait"==o.orientation&&(this._orientation="portrait"),"boolean"==typeof o.disable&&o.disable&&(this._disable=o.disable),Ele._isArray(o.items)&&(t=o.items)),"landscape"==this._orientation?this.view=new Ele.HLayout("ele_nocrspace"):this.view=new Ele.VLayout("ele_nocrspace"),this.ele=this.view.ele;var e=this;if(0<t.length)for(var i=0;i<t.length;i++){var s=new n(t[i]);this._disable&&s.able(!1),s.eleId=i,s.addClickEvent(function(){e.onItemClick(this.eleId)}),0==i&&(this._selectIndex=0,s.checked()),this._radios.push(s),this.view.add(s,{padding:"0 0 0 8px"})}},this._init()}}(),function(){var t=Ele.SearchBox=function(i){this.eleType="layout",this.ele,this.view,this.onSearchEvent=function(){},this.tb,t.prototype.setOnSearch=function(t){"function"==typeof t&&(this.onSearchEvent=t)},t.prototype._init=function(){this.view=new Ele.Layout("ele_searchbox_view"),this.ele=this.view.ele,this.tb=new Ele.TextBox({style:"ele_searchbox_style"}),this.tb.type="text",this.tb.className="ele_edittext_style","object"==typeof i&&(void 0!==i.hint&&(this.tb.ele.placeholder=i.hint),"function"==typeof i.onSearch&&(this.onSearchEvent=i.onSearch));var t=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_search.png","ele_searchbox_icon");this.view.add(this.tb),this.view.add(t);var e=this;this.ele.onkeydown=function(t){13==event.keyCode&&(event.returnValue=!1,event.cancel=!0,e.onSearchEvent(e.tb.ele.value))},t.ele.onclick=function(){e.onSearchEvent(e.tb.ele.value)}},this._init()}}(),function(){var t=Ele.SelectBox=function(n){this.eleType="layout",this.ele,this.view,this.hintView,this.edit,this.windowType,this.listView,this.masking,this.filter,this.optionList,this.optionController,this.filterController,this.position,this.offset,this.count,this._disable,this._options=[],this._selectIndex=-1,this._itemClickEvent=null,this._updateEvent=null,this._filterSearchEvent=null,this._onErrorResponse=null,this._onFilterErrorResponse=null,this._onDataLoad=null,t.prototype.setWindowOffset=function(t){this.windowType&&(this.offset=t)},t.prototype.setOnDataLoad=function(t){"function"==typeof t&&(this._onDataLoad=t)},t.prototype.setOnItemClick=function(t){"function"==typeof t&&(this._itemClickEvent=t)},t.prototype.setOnSelectChange=function(t){"function"==typeof t&&(this._updateEvent=t)},t.prototype.setOnFilterSearch=function(t){"function"==typeof t&&(this._filterSearchEvent=t)},t.prototype.addOptionValue=function(t,e){e=new l(t,e);this.addOption(e)},t.prototype.addOption=function(t){var e;t instanceof l&&((e=this).optionList.add(new Ele.Layout("ele_selectbox_option_divider")),t.eleId=this.count,t.setClickEvent(function(){e._onItemClick(this.eleId)}),this._options.push(t),this.optionList.add(t),this.count++)},t.prototype.setOptions=function(t){this.optionList.clear(),this._options=[],this._selectIndex=-1,this.edit.setValue("");var e=this,i=new l("--请选择--",-1);if(i.eleId=-1,i.setClickEvent(function(){e._onItemClick(this.eleId)}),this.optionList.add(i),0<t.length)for(var s=0;s<t.length;s++){var o=new l(t[s].text,t[s].value);o.eleId=this.count,o.setClickEvent(function(){e._onItemClick(this.eleId)}),this._options.push(o),this.optionList.add(new Ele.Layout("ele_selectbox_option_divider")),this.optionList.add(o),this.count++}null!=this._onDataLoad&&this._onDataLoad()},t.prototype.loadFilterDataSourcesUrl=function(t,e,i,s){"function"==typeof s&&(this._onFilterErrorResponse=s),"string"==typeof e&&""!=e.trim()&&this.filterController.setParameter("keyvalue="+e),void 0!==i&&""!=i&&null!=i?this.filterController.setMethod(i):this.filterController.setMethod("GET"),this.filterController.loadData(t)},t.prototype.loadDataSourcesUrl=function(t,e,i){"function"==typeof i&&(this._onErrorResponse=i),void 0!==e&&""!=e&&null!=e?this.optionController.setMethod(e):this.optionController.setMethod("GET"),this.optionController.loadData(t)},t.prototype.setValue=function(t){if(void 0!==t){for(var e=-1,i=0;i<this._options.length;i++)if(this._options[i].value==t){e=i;break}this.selectIndex(e)}},t.prototype.reset=function(){this.setFilterData([]),-1<this._selectIndex&&this._options[this._selectIndex].clearSelectedStyle(),this._selectIndex=-1,this.clearErrorStyle(),this.edit.setValue(""),this.hintView.setHtml("请选择")},t.prototype.selectIndex=function(t){if(!(t<-1||t>=this._options.length)){if(-1==t)return this.reset(),void(null!=this._updateEvent&&this._updateEvent(t));this.edit.setValue(this._options[t].text),this._selectIndex!=t&&(-1<this._selectIndex&&this._options[this._selectIndex].clearSelectedStyle(),this._options[t].setSelectedStyle(),this._selectIndex=t,this.hintView.setHtml("已选择"),null!=this._updateEvent&&this._updateEvent(t))}},t.prototype.getValue=function(){return this._selectIndex<0?"":this._options[this._selectIndex].value},t.prototype.showErrorStyle=function(){this.ele.className="ele_selectbox_style_error"},t.prototype.clearErrorStyle=function(){this.ele.className="ele_selectbox"},t.prototype.expend=function(){var t;this.windowType?(this.position.inBottomLeft(this.view.ele),null!=this.offset&&this.offset instanceof Ele.Utils.Size&&this.position.setOffset(this.offset),this.masking.setContent(this.listView,this.position),this.masking.showMasking(),(t=this).masking.setHiddenHandler(function(){t._onBlur()})):(this.masking.setContentNone(),this.masking.showMasking(),(t=this).masking.setHiddenHandler(function(){t._onBlur()}),this.listView.ele.style.display="block")},t.prototype.hide=function(){this.windowType||(this.listView.ele.style.display="none"),this.masking.hideMasking()},t.prototype.setFilterData=function(t){if(Ele._isArray(t)){if(this.filter.clear(),t.length<1){var e=new Ele.Layout("ele_selectbox_filter_empty");return e.setHtml("暂无推荐数据"),void this.filter.add(e)}var i,s=this;for(i in t){var o=new h(t[i].text,t[i].value,t[i].filterView);o.setClickEvent(function(){s._onFilterItemClick(this.value)}),this.filter.add(o),i<t.length-1&&(o=new Ele.Layout("ele_selectbox_option_divider"),this.filter.add(o))}}},t.prototype.setDisable=function(t){"boolean"==typeof t&&(this._disable=t,this.edit.ele.readOnly=t)},t.prototype._onFilterDataResponse=function(t){if(Ele._isArray(t)){var e,i=[];for(e in t){var s=new Ele.OptionFilter;if("string"==typeof t[e].filter&&-1<t[e].filter.indexOf(";")){var o,n=t[e].filter.split(";");for(o in n)n[o].length<1||("@"!=n[o].charAt(0)?"#"!=n[o].charAt(0)||s.appendFilter(n[o].substring(1,n[o].length)):s.appendNormal(n[o].substring(1,n[o].length)))}var l={text:t[e].text,value:t[e].value,filterView:s};i.push(l)}this.setFilterData(i)}else this.setFilterData([])},t.prototype._onDataResponse=function(t){this.setOptions(t)},t.prototype._onFilterItemClick=function(t){this.ele.className="ele_selectbox",this.hide(),this.setValue(t)},t.prototype._onFilterKey=function(){null!=this._filterSearchEvent&&this._filterSearchEvent(this.edit.getValue())},t.prototype._onItemClick=function(t){null!=this._itemClickEvent&&this._itemClickEvent(t),this.ele.className="ele_selectbox",this.hide(),this.selectIndex(t)},t.prototype._onBlur=function(){this.ele.className="ele_selectbox",-1<this._selectIndex?this.edit.setValue(this._options[this._selectIndex].text):this.edit.setValue(""),this.setFilterData([]),this.windowType||this.hide()},t.prototype._onFocus=function(){this._disable?this.ele.className="ele_selectbox_disable_focus":(this.ele.className="ele_selectbox_focus",-1<this._selectIndex?this.edit.setValue(this._options[this._selectIndex].text):this.edit.setValue(""),this.setFilterData([]),this.expend())},t.prototype._init=function(){this.view=new Ele.Layout("ele_selectbox"),this.ele=this.view.ele,this._disable=!1,this.windowType=!1,this.count=0;var t=[],e=this;this.masking=Ele.masking,"object"==typeof n&&(void 0!==n.style&&(this.ele.className=n.style),"boolean"==typeof n.disable&&n.disable&&(this._disable=n.disable),Ele._isArray(n.items)&&(t=n.items),"function"==typeof n.onItemClick&&(this._itemClickEvent=n.onItemClick),"function"==typeof n.selectChange&&(this._updateEvent=n.selectChange),"function"==typeof n.filterSearch&&(this._filterSearchEvent=n.filterSearch),"boolean"==typeof n.windowType&&n.windowType&&(this.windowType=!0)),this.windowType?(this.listView=new Ele.Layout("ele_selectbox_list_view_wt ele_scrollbar"),this.position=new Ele.Utils.Position):(this.listView=new Ele.Layout("ele_selectbox_list_view ele_scrollbar"),this.listView.ele.style.zIndex=this.masking.maxZIndex+1,this.view.add(this.listView)),this.filter=new Ele.Layout("ele_selectbox_filter"),this.setFilterData([]),this.listView.add(this.filter);var i=new Ele.Layout("ele_selectbox_divider");this.listView.add(i),this.optionList=new Ele.Layout("ele_selectbox_option"),this.listView.add(this.optionList);var s=new Ele.HLayout("ele_selectbox_panle");s.ele.onclick=function(){e._onFocus()},this.hintView=new Ele.Layout("ele_selectbox_select_view"),this.hintView.setHtml("请选择"),s.add(this.hintView),this.edit=new Ele.TextBox({style:"ele_selectbox_input_style"}),this.edit.ele.onkeyup=function(t){e._onFilterKey()},this._disable&&(this.edit.ele.readOnly=!0),s.add(this.edit);var o=new Ele.Layout("ele_selectbox_icon_view"),i=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_down.png","ele_selectbox_icon");o.add(i),s.add(o),this.view.add(s),this.setOptions(t),this.optionController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse(t)},errorHandler:function(t){null!=e._onErrorResponse&&e._onErrorResponse(t)}}),this.filterController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onFilterDataResponse(t)},errorHandler:function(t){null!=e._onFilterErrorResponse&&e._onFilterErrorResponse(t)}})},this._init()},l=Ele.Option=function(e,i){this.eleType="layout",this.ele,this.view,this.text,this.value,this._clickEvent=null,l.prototype.setClickEvent=function(t){"function"==typeof t&&(this._clickEvent=t)},l.prototype.setSelectedStyle=function(){this.ele.className="ele_selectbox_option_item ele_selectbox_option_item_selected"},l.prototype.clearSelectedStyle=function(){this.ele.className="ele_selectbox_option_item"},l.prototype._onClick=function(){null!=this._clickEvent&&this._clickEvent()},l.prototype._init=function(){this.text="",this.value="","string"==typeof e&&(this.text=e),void 0!==i&&(this.value=i),this.view=new Ele.Layout("ele_selectbox_option_item"),this.ele=this.view.ele;var t=this;this.ele.onclick=function(){t._onClick()},this.view.setHtml(this.text)},this._init()},n=Ele.OptionFilter=function(){this.eleType="layout",this.ele,this.view,n.prototype.appendFilter=function(t){"string"==typeof t&&(t=new Ele.Label(t,"ele_selectbox_filter_txt_filter"),this.view.add(t))},n.prototype.appendNormal=function(t){"string"==typeof t&&(t=new Ele.Label(t,"ele_selectbox_filter_txt_normal"),this.view.add(t))},n.prototype._init=function(){this.view=new Ele.Layout("ele_selectbox_filter_right"),this.ele=this.view.ele,this.view.setAlign("right")},this._init()},h=function(i,s,o){this.eleType="layout",this.ele,this.view,this.text,this.value,this._clickEvent=null,h.prototype.setClickEvent=function(t){"function"==typeof t&&(this._clickEvent=t)},h.prototype._onClick=function(){null!=this._clickEvent&&this._clickEvent()},h.prototype._init=function(){this.text="",this.value="","string"==typeof i&&(this.text=i),void 0!==s&&(this.value=s),"object"==typeof o&&o instanceof n||(o=new Ele.Label("")),this.view=new Ele.HLayout("ele_selectbox_filter_item"),this.ele=this.view.ele;var t=this;this.ele.onclick=function(){t._onClick()};var e=new Ele.Layout("ele_selectbox_filter_left");e.setHtml(this.text),this.view.add(e,{width:"50%"}),this.view.add(o,{width:"50%"})},this._init()}}(),function(){var e=Ele.TextArea=function(t){this.eleType="textarea",this.ele,e.prototype.setHint=function(t){this.ele.placeholder=t},e.prototype.setValue=function(t){this.ele.value=t},e.prototype.getValue=function(){return this.ele.value},e.prototype.readOnly=function(t){"boolean"==typeof t&&t?(this.ele.readOnly=!0,this.ele.className="ele_textarea_style_disable"):(this.ele.readOnly=!1,this.ele.className="ele_textarea_style")},e.prototype.showErrorStyle=function(){this.ele.className="ele_textarea_style_error"},e.prototype.clearErrorStyle=function(){this.ele.readOnly?this.ele.className="ele_textarea_style_disable":this.ele.className="ele_textarea_style"},e.prototype._init=function(){this.ele=document.createElement("textarea"),this.ele.className="ele_textarea_style","object"==typeof t&&("string"==typeof t.style&&(this.ele.className=t.style),"string"==typeof t.hint&&(this.ele.placeholder=t.hint),"boolean"==typeof t.readOnly&&t.readOnly&&(this.ele.readOnly=t.readOnly,this.ele.className="ele_textarea_style_disable"))},this._init()}}(),function(){var e=Ele.TextBox=function(t){this.eleType="input",this.ele,e.prototype.setHint=function(t){this.ele.placeholder=t},e.prototype.setValue=function(t){this.ele.value=t},e.prototype.getValue=function(){return this.ele.value},e.prototype.readOnly=function(t){"boolean"==typeof t&&t?(this.ele.readOnly=!0,this.ele.className="ele_edittext_style_disable"):(this.ele.readOnly=!1,this.ele.className="ele_edittext_style")},e.prototype.showErrorStyle=function(){this.ele.className="ele_edittext_style_error"},e.prototype.clearErrorStyle=function(){this.ele.readOnly?this.ele.className="ele_edittext_style_disable":this.ele.className="ele_edittext_style"},e.prototype._init=function(){this.ele=document.createElement("input"),this.ele.type="text",this.ele.className="ele_edittext_style","object"==typeof t&&(void 0!==t.style&&(this.ele.className=t.style),void 0!==t.hint&&(this.ele.placeholder=t.hint),"boolean"==typeof t.readOnly&&t.readOnly&&(this.ele.readOnly=t.readOnly,this.ele.className="ele_edittext_style_disable"))},this._init()}}(),function(){var t=Ele.TreeNode=function(o){this.eleType="layout",this.ele,this.view,this.listView,this.isExpand=!1,this.onClickHandler,this.onItemClickHandler,this.count=0,this.selected=0,this.iconStatus,this.data=null,t.prototype.add=function(t){0==this.count&&this.clear();var e=" ele_treenode_double";this.count%2==0&&(e=" ele_treenode_single"),void 0!==t.selected&&t.selected&&(e+=" ele_treenode_selected",this.selected=t.id);var i=new Ele.Layout("ele_treenode_item_view"+e);i.setAlign("left");var s,o=" ele_ml10";void 0!==t.icon&&(s=new Ele.Img(t.icon,"ele_treenode_item_icon ele_ml10"),i.add(s),o=" ele_ml5");o=new Ele.Label("unknow","ele_treenode_item_txt"+o);void 0!==t.text&&o.setText(t.text),i.add(o);var n=this;i.ele.onclick=function(){null!=n.onItemClickHandler&&(void 0!==t.data?n.onItemClickHandler(t.data):n.onItemClickHandler())},i.ele.onmouseover=function(){t.selected||(this.className="ele_treenode_item_view ele_treenode_over")},i.ele.onmouseout=function(){t.selected||(this.className="ele_treenode_item_view"+e)},0<this.count&&(o=new Ele.Layout("ele_treenode_divider"),this.listView.add(o)),this.listView.add(i),this.count++},t.prototype.close=function(){this.listView.ele.style.display="none",this.iconStatus.ele.src=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_list_right.png",this.isExpand=!1},t.prototype.expand=function(){this.listView.ele.style.display="block",this.iconStatus.ele.src=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_list_down.png",this.isExpand=!0},t.prototype.clear=function(){this.listView.setHtml(""),this.count=0},t.prototype._initListView=function(){var t=new Ele.Label("无数据","ele_treenode_empty_txt ele_llh30");this.listView.add(t)},t.prototype._init=function(){this.view=new Ele.Layout,this.view.setHeight("auto"),this.ele=this.view.ele;var t=new Ele.Layout("ele_treenode_title_view");this.iconStatus=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_list_right.png","ele_treenode_status_view"),t.add(this.iconStatus);var e,i=new Ele.Label("Root","ele_treenode_title_txt ele_ml5");"object"==typeof o&&(void 0!==o.width&&this.view.setWidth(o.width),void 0!==o.icon&&(e=new Ele.Img(o.icon,"ele_treenode_icon ele_ml5"),t.add(e)),void 0!==o.title&&i.setText(o.title),void 0!==o.data&&(this.data=o.data),"function"==typeof o.onClick&&(this.onClickHandler=o.onClick),"function"==typeof o.onItemClick&&(this.onItemClickHandler=o.onItemClick)),t.add(i);var s=this;t.ele.onclick=function(){s.isExpand?s.close():s.expand(),null!=s.onClickHandler&&(null!=s.data?s.onClickHandler(s.data):s.onClickHandler(s.isExpand))},this.listView=new Ele.Layout,this.listView.setHeight("auto"),this.listView.setAlign("center"),this.close(),this._initListView(),this.view.add(t),this.view.add(this.listView)},this._init()}}(),function(){var e=Ele.Charts.AreaLine=function(t){this.eleType="canvas",this.ele,this.ctx,this.width=750,this.height=300,this.background="#FFFFFF",this.border="1px #EEEEEE solid",this.titleColor="#333333",this.textColor="#4C4C4C",this.padding=20,this.edgeLineColor="#C4C4C4",this.edgeLineHintColor="rgba(221,221,221, 0.28)",this.edgelineWidth=1,this.edgeLeftSpacing=40,this.edgeBottomSpacing=16,this.showTitle=!1,this.itemColor="#4FDBDB",this.itemlineWidth=1,this.itemPointWeight=4,this.offset=.4,this.data,this.filter=new Ele.Utils.Filter,this._node_lenght=10,this._title_height=36,this._rectW=16,this._rectH=16,this._txt_h_offset=6,"skin-black"==Ele._skin&&(this.background="#444444",this.border="1px #555555 solid",this.titleColor="#FFFFFF",this.textColor="#F5F5F5",this.edgeLineColor="#F5F5F5",this.edgeLineHintColor="rgba(237,237,237, 0.28)"),e.prototype._init=function(){"object"==typeof t&&("number"==typeof t.width&&(this.width=t.width),"number"==typeof t.height&&(this.height=t.height),"string"==typeof t.background&&(this.background=t.background),"string"==typeof t.border&&(this.border=t.border),"number"==typeof t.padding&&(this.padding=t.padding),"string"==typeof t.edgeLineColor&&(this.edgeLineColor=t.edgeLineColor),"string"==typeof t.edgeLineHintColor&&(this.edgeLineHintColor=t.edgeLineHintColor),"number"==typeof t.edgelineWidth&&(this.edgelineWidth=t.edgelineWidth),"number"==typeof t.edgeLeftSpacing&&(this.edgeLeftSpacing=t.edgeLeftSpacing),"number"==typeof t.edgeBottomSpacing&&(this.edgeBottomSpacing=t.edgeBottomSpacing),"boolean"==typeof t.showTitle&&(this.showTitle=t.showTitle),"string"==typeof t.itemColor&&(this.itemColor=t.itemColor),"number"==typeof t.itemlineWidth&&(this.itemlineWidth=t.itemlineWidth),"number"==typeof t.itemPointWeight&&(this.itemPointWeight=t.itemPointWeight),"number"==typeof t.offset&&(this.offset=t.offset))},e.prototype._create=function(){this._init(),this.ele=document.createElement("canvas"),this.ele.width=this.width,this.ele.height=this.height,this.ele.style.background=this.background,this.ele.style.border=this.border,this.ctx=this.ele.getContext("2d")},e.prototype.setContainerById=function(t){document.getElementById(t).appendChild(this.ele)},e.prototype.draw=function(t){var e,i,s,o,n;"object"==typeof t&&"object"==typeof t.X&&"object"==typeof t.Y&&"object"==typeof t.values&&(this.data=t,e=this.height-2*this.padding-this.edgeBottomSpacing-this._node_lenght,n=this.width-2*this.padding-this.edgeLeftSpacing-this._node_lenght,i=this.padding,this.showTitle&&(e-=this._title_height,i=this.padding+this._title_height,this.drawTitleText()),s=e/(t.Y.length-1),o=this.padding+this._node_lenght+this.edgeLeftSpacing,n=n/(t.X.length-1),t=this.height-this.padding-this._node_lenght-this.edgeBottomSpacing,this.drawEdgeLine(s,o,n,t,i),this.drawEdgeText(s,o,n,t,i),this.drawData(e,s,o,n,t))},e.prototype.drawData=function(t,e,i,s,o){var n=this.data.values;if(void 0!==this.data.nodes)for(var l=this.data.nodes,h=0;h<n.length;h++){for(c=n[h].value,u=[],_=0;_<this.data.X.length;_++)this.data.X[_].fieldName in c&&u.push(c[this.data.X[_].fieldName]);for(var r,a=n[h].lineId,d=null,p=0;p<l.length;p++)if("number"==typeof l[p].id&&l[p].id==a){d=l[p];break}null==d||"string"!=typeof d.color?this.drawArrayData(t,e,i,s,o,u,this.itemColor,this.edgeLineColor):(r=this.edgeLineHintColor,"string"==typeof d.areaColor&&(r=d.areaColor),this.drawArrayData(t,e,i,s,o,u,d.color,r))}else for(var h=0;h<n.length;h++){for(var c=n[h].value,u=[],_=0;_<this.data.X.length;_++)this.data.X[_].fieldName in c&&u.push(c[this.data.X[_].fieldName]);this.drawArrayData(t,e,i,s,o,u,this.itemColor)}},e.prototype.drawArrayData=function(t,e,i,s,o,n,l,h){if("number"==typeof this.data.max){var r=n.length;this.ctx.font="12px Microsoft YaHei",this.ctx.fillStyle=l,this.ctx.strokeStyle=l,this.ctx.lineWidth=this.itemlineWidth,this.ctx.beginPath();for(var a=[],d=0;d<r;d++){var p=i+d*s,c=new Number(n[d].value);c>this.data.max&&(c=this.data.max);c=o-t*c/this.data.max;this.ctx.beginPath(),this.ctx.arc(p,c,this.itemPointWeight,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.fillText(n[d].key,p+this._txt_h_offset,c),this.ctx.closePath(),this.ctx.stroke(),a.push({x:p,y:c})}this.drawQuadraticCurvePx(a,i,o,h)}},e.prototype.drawEdgeLine=function(t,e,i,s,o){this.ctx.strokeStyle=this.edgeLineColor,this.ctx.lineWidth=this.edgelineWidth,this.ctx.beginPath(),this.drawLinePx(e,o,e,this.height-this.padding-this.edgeBottomSpacing);for(var n=this.padding+this.edgeLeftSpacing,l=0;l<this.data.Y.length-1;l++){var h=l*t+o;this.drawLinePx(e,h,n,h),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.edgeLineHintColor,this.drawLinePx(e,h,this.width-this.padding,h),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.edgeLineColor}this.drawLinePx(e-this._node_lenght,s,this.width-this.padding,s);for(l=0;l<this.data.X.length;l++){var r=l*i+e;this.drawLinePx(r,s,r,s+this._node_lenght)}this.ctx.closePath(),this.ctx.stroke()},e.prototype.drawEdgeText=function(t,e,i,s,o){this.ctx.fillStyle=this.textColor,this.ctx.textBaseline="top",this.ctx.font="12px Microsoft YaHei";for(var n=0;n<this.data.Y.length;n++){var l=o+(this.data.Y.length-1-n)*t;this.ctx.fillText(this.data.Y[n],this.padding,l)}for(n=0;n<this.data.X.length;n++){var h=n*i+e;this.ctx.textAlign="right",this.ctx.fillText(this.data.X[n].text,h,s+this._node_lenght),this.ctx.textAlign="left"}},e.prototype.drawTitleText=function(){if(void 0!==this.data.nodes){this.ctx.fillStyle=this.titleColor,this.ctx.font="13px Microsoft YaHei",this.ctx.textBaseline="bottom",this.ctx.beginPath(),this.ctx.fillText(this.data.title,this.padding,this.padding);for(var t,e=this.padding+this.strLen(this.data.title)+32,i=this.padding,s=this.data.nodes,o=0;o<s.length;o++)"string"==typeof s[o].color&&(t="","string"==typeof s[o].name&&(t=s[o].name),this.ctx.fillStyle=s[o].color,this.ctx.strokeStyle=s[o].color,this.ctx.beginPath(),this.ctx.fillRect(e,i-this._rectH,this._rectW,this._rectH),e+=24,this.ctx.fillText(t,e,i),e+=this.strLen(t)+13,this.ctx.closePath(),this.ctx.fill())}},e.prototype.drawLinePx=function(t,e,i,s){this.ctx.moveTo(t,e),this.ctx.lineTo(i,s)},e.prototype.drawQuadraticCurvePx=function(t,e,i,s){if(!(t.length<2)){this.ctx.fillStyle=s,this.ctx.beginPath(),this.ctx.moveTo(e,i),this.ctx.lineTo(t[0].x,t[0].y);t[0].x,t[0].y;for(var o=(t[1].x-t[0].x)/4*this.offset,n=1;n<t.length;n++){var l=(t[n].x+t[n-1].x)/2,h=(t[n].y+t[n-1].y)/2,r=0<t[n].y-t[n-1].y?2:1,a=(l+t[n-1].x)/2,d=(h+t[n-1].y)/2;1==r?(a+=o,d+=(t[n-1].y-d)*this.offset):(a+=o,d-=(d-t[n-1].y)*this.offset),this.ctx.quadraticCurveTo(a,d,l,h),a=(l+t[n].x)/2,d=(h+t[n].y)/2,1==r?(a-=o,d-=(d-t[n].y)*this.offset):(a-=o,d+=(t[n].y-d)*this.offset),this.ctx.quadraticCurveTo(a,d,t[n].x,t[n].y),this.ctx.stroke()}this.ctx.lineTo(t[t.length-1].x,i),this.ctx.fill(),this.ctx.closePath()}},e.prototype.strLen=function(t){for(var e=0,i=0;i<t.length;i++)this.filter.isChinese(t.charAt(i))?e+=16:this.filter.isUpper(t.charAt(i))?e+=12:this.filter.isNumber(t.charAt(i))?e+=9:e+=8;return e},this._create()}}(),function(){var e=Ele.Charts.BrokenLine=function(t){this.eleType="canvas",this.ele,this.ctx,this.width=750,this.height=300,this.background="#FFFFFF",this.border="1px #EEEEEE solid",this.titleColor="#333333",this.textColor="#4C4C4C",this.padding=20,this.edgeLineColor="#C4C4C4",this.edgeLineHintColor="rgba(221,221,221, 0.28)",this.edgelineWidth=1,this.edgeLeftSpacing=40,this.edgeBottomSpacing=16,this.showTitle=!1,this.itemColor="#4FDBDB",this.itemlineWidth=1,this.itemPointWeight=4,this.data,this.filter=new Ele.Utils.Filter,this._node_lenght=10,this._title_height=36,this._rectW=16,this._rectH=16,this._txt_h_offset=6,"skin-black"==Ele._skin&&(this.background="#444444",this.border="1px #555555 solid",this.titleColor="#FFFFFF",this.textColor="#F5F5F5",this.edgeLineColor="#F5F5F5",this.edgeLineHintColor="rgba(237,237,237, 0.28)"),e.prototype._init=function(){"object"==typeof t&&("number"==typeof t.width&&(this.width=t.width),"number"==typeof t.height&&(this.height=t.height),"string"==typeof t.background&&(this.background=t.background),"string"==typeof t.border&&(this.border=t.border),"number"==typeof t.padding&&(this.padding=t.padding),"string"==typeof t.edgeLineColor&&(this.edgeLineColor=t.edgeLineColor),"string"==typeof t.edgeLineHintColor&&(this.edgeLineHintColor=t.edgeLineHintColor),"number"==typeof t.edgelineWidth&&(this.edgelineWidth=t.edgelineWidth),"number"==typeof t.edgeLeftSpacing&&(this.edgeLeftSpacing=t.edgeLeftSpacing),"number"==typeof t.edgeBottomSpacing&&(this.edgeBottomSpacing=t.edgeBottomSpacing),"boolean"==typeof t.showTitle&&(this.showTitle=t.showTitle),"string"==typeof t.itemColor&&(this.itemColor=t.itemColor),"number"==typeof t.itemlineWidth&&(this.itemlineWidth=t.itemlineWidth),"number"==typeof t.itemPointWeight&&(this.itemPointWeight=t.itemPointWeight))},e.prototype._create=function(){this._init(),this.ele=document.createElement("canvas"),this.ele.width=this.width,this.ele.height=this.height,this.ele.style.background=this.background,this.ele.style.border=this.border,this.ctx=this.ele.getContext("2d")},e.prototype.setContainerById=function(t){document.getElementById(t).appendChild(this.ele)},e.prototype.draw=function(t){var e,i,s,o,n;"object"==typeof t&&"object"==typeof t.X&&"object"==typeof t.Y&&"object"==typeof t.values&&(this.data=t,e=this.height-2*this.padding-this.edgeBottomSpacing-this._node_lenght,n=this.width-2*this.padding-this.edgeLeftSpacing-this._node_lenght,i=this.padding,this.showTitle&&(e-=this._title_height,i=this.padding+this._title_height,this.drawTitleText()),s=e/(t.Y.length-1),o=this.padding+this._node_lenght+this.edgeLeftSpacing,n=n/(t.X.length-1),t=this.height-this.padding-this._node_lenght-this.edgeBottomSpacing,this.drawEdgeLine(s,o,n,t,i),this.drawEdgeText(s,o,n,t,i),this.drawData(e,s,o,n,t))},e.prototype.drawData=function(t,e,i,s,o){var n=this.data.values,l=[];"object"==typeof this.data.nodes&&(l=this.data.nodes);for(var h=0;h<n.length;h++){for(var r=n[h].value,a=[],d=0;d<this.data.X.length;d++)this.data.X[d].fieldName in r&&a.push(r[this.data.X[d].fieldName]);for(var p=n[h].lineId,c=null,u=0;u<l.length;u++)if("number"==typeof l[u].id&&l[u].id==p){c=l[u];break}null==c||"string"!=typeof c.color?this.drawArrayData(t,e,i,s,o,a,this.itemColor):this.drawArrayData(t,e,i,s,o,a,c.color)}},e.prototype.drawArrayData=function(t,e,i,s,o,n,l){if("number"==typeof this.data.max){var h,r,a=n.length;this.ctx.font="12px Microsoft YaHei",this.ctx.fillStyle=l,this.ctx.strokeStyle=l,this.ctx.lineWidth=this.itemlineWidth,this.ctx.beginPath();for(var d=0;d<a;d++){var p=i+d*s,c=new Number(n[d].value);c>this.data.max&&(c=this.data.max);c=o-t*c/this.data.max;this.ctx.beginPath(),this.ctx.arc(p,c,this.itemPointWeight,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.fillText(n[d].key,p+this._txt_h_offset,c),this.ctx.closePath(),this.ctx.stroke(),0!=d&&(this.ctx.beginPath(),this.drawLinePx(h,r,p,c),this.ctx.closePath(),this.ctx.stroke()),h=p,r=c}}},e.prototype.drawEdgeLine=function(t,e,i,s,o){this.ctx.strokeStyle=this.edgeLineColor,this.ctx.lineWidth=this.edgelineWidth,this.ctx.beginPath(),this.drawLinePx(e,o,e,this.height-this.padding-this.edgeBottomSpacing);for(var n=this.padding+this.edgeLeftSpacing,l=0;l<this.data.Y.length-1;l++){var h=l*t+o;this.drawLinePx(e,h,n,h),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.edgeLineHintColor,this.drawLinePx(e,h,this.width-this.padding,h),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.edgeLineColor}this.drawLinePx(e-this._node_lenght,s,this.width-this.padding,s);for(l=0;l<this.data.X.length;l++){var r=l*i+e;this.drawLinePx(r,s,r,s+this._node_lenght)}this.ctx.closePath(),this.ctx.stroke()},e.prototype.drawEdgeText=function(t,e,i,s,o){this.ctx.fillStyle=this.textColor,this.ctx.textBaseline="top",this.ctx.font="12px Microsoft YaHei";for(var n=0;n<this.data.Y.length;n++){var l=o+(this.data.Y.length-1-n)*t;this.ctx.fillText(this.data.Y[n],this.padding,l)}for(n=0;n<this.data.X.length;n++){var h=n*i+e;this.ctx.textAlign="right",this.ctx.fillText(this.data.X[n].text,h,s+this._node_lenght),this.ctx.textAlign="left"}},e.prototype.drawTitleText=function(){if(void 0!==this.data.nodes){this.ctx.fillStyle=this.titleColor,this.ctx.font="13px Microsoft YaHei",this.ctx.textBaseline="bottom",this.ctx.beginPath(),this.ctx.fillText(this.data.title,this.padding,this.padding);for(var t,e=this.padding+this.strLen(this.data.title)+32,i=this.padding,s=this.data.nodes,o=0;o<s.length;o++)"string"==typeof s[o].color&&(t="","string"==typeof s[o].name&&(t=s[o].name),this.ctx.fillStyle=s[o].color,this.ctx.strokeStyle=s[o].color,this.ctx.beginPath(),this.ctx.fillRect(e,i-this._rectH,this._rectW,this._rectH),e+=24,this.ctx.fillText(t,e,i),e+=this.strLen(t)+13,this.ctx.closePath(),this.ctx.fill())}},e.prototype.drawLinePx=function(t,e,i,s){this.ctx.moveTo(t,e),this.ctx.lineTo(i,s)},e.prototype.strLen=function(t){for(var e=0,i=0;i<t.length;i++)this.filter.isChinese(t.charAt(i))?e+=16:this.filter.isUpper(t.charAt(i))?e+=12:this.filter.isNumber(t.charAt(i))?e+=9:e+=8;return e},this._create()}}(),function(){var e=Ele.Charts.Histogram=function(t){this.eleType="canvas",this.ele,this.ctx,this.width=750,this.height=300,this.background="#FFFFFF",this.border="1px #EEEEEE solid",this.titleColor="#333333",this.textColor="#4C4C4C",this.padding=20,this.edgeLineColor="#C4C4C4",this.edgeLineHintColor="rgba(221,221,221, 0.28)",this.edgelineWidth=1,this.edgeLeftSpacing=40,this.edgeBottomSpacing=16,this.showTitle=!1,this.itemColor="#4FDBDB",this.itemlineWidth=1,this.itemWidth=20,this.showBrokenLine=!1,this.data,this.filter=new Ele.Utils.Filter,this._node_lenght=10,this._title_height=36,this._rectW=16,this._rectH=16,this._txt_h_offset=12,"skin-black"==Ele._skin&&(this.background="#444444",this.border="1px #555555 solid",this.titleColor="#FFFFFF",this.textColor="#F5F5F5",this.edgeLineColor="#F5F5F5",this.edgeLineHintColor="rgba(237,237,237, 0.28)"),e.prototype._init=function(){"object"==typeof t&&("number"==typeof t.width&&(this.width=t.width),"number"==typeof t.height&&(this.height=t.height),"string"==typeof t.background&&(this.background=t.background),"string"==typeof t.border&&(this.border=t.border),"number"==typeof t.padding&&(this.padding=t.padding),"string"==typeof t.edgeLineColor&&(this.edgeLineColor=t.edgeLineColor),"string"==typeof t.edgeLineHintColor&&(this.edgeLineHintColor=t.edgeLineHintColor),"number"==typeof t.edgelineWidth&&(this.edgelineWidth=t.edgelineWidth),"number"==typeof t.edgeLeftSpacing&&(this.edgeLeftSpacing=t.edgeLeftSpacing),"number"==typeof t.edgeBottomSpacing&&(this.edgeBottomSpacing=t.edgeBottomSpacing),"boolean"==typeof t.showTitle&&(this.showTitle=t.showTitle),"string"==typeof t.itemColor&&(this.itemColor=t.itemColor),"number"==typeof t.itemlineWidth&&(this.itemlineWidth=t.itemlineWidth),"number"==typeof t.itemWidth&&(this.itemWidth=t.itemWidth),"boolean"==typeof t.showBrokenLine&&(this.showBrokenLine=t.showBrokenLine))},e.prototype._create=function(){this._init(),this.ele=document.createElement("canvas"),this.ele.width=this.width,this.ele.height=this.height,this.ele.style.background=this.background,this.ele.style.border=this.border,this.ctx=this.ele.getContext("2d")},e.prototype.setContainerById=function(t){document.getElementById(t).appendChild(this.ele)},e.prototype.draw=function(t){var e,i,s,o,n;"object"==typeof t&&"object"==typeof t.X&&"object"==typeof t.Y&&"object"==typeof t.values&&(this.data=t,e=this.height-2*this.padding-this.edgeBottomSpacing-this._node_lenght,n=this.width-2*this.padding-this.edgeLeftSpacing-this._node_lenght,i=this.padding,this.showTitle&&(e-=this._title_height,i=this.padding+this._title_height,this.drawTitleText()),s=e/(t.Y.length-1),o=this.padding+this._node_lenght+this.edgeLeftSpacing,n=n/t.X.length,t=this.height-this.padding-this._node_lenght-this.edgeBottomSpacing,this.drawEdgeLine(s,o,n,t,i),this.drawEdgeText(s,o,n,t,i),this.drawData(e,s,o,n,t))},e.prototype.drawData=function(t,e,i,s,o){var n=this.data.values,l=[];"object"==typeof this.data.nodes&&(l=this.data.nodes);var h=this.itemWidth;n.length*h>s&&(h=s/n.length);for(var r=n.length*h/2,a=0;a<n.length;a++){for(var d=n[a].value,p=[],c=0;c<this.data.X.length;c++)this.data.X[c].fieldName in d&&p.push(d[this.data.X[c].fieldName]);for(var u=n[a].lineId,_=null,f=0;f<l.length;f++)if("number"==typeof l[f].id&&l[f].id==u){_=l[f];break}null==_||"string"!=typeof _.color?this.drawArrayData(t,e,i,s,o,p,this.itemColor,h,r):this.drawArrayData(t,e,i,s,o,p,_.color,h,r),r-=h}},e.prototype.drawArrayData=function(t,e,i,s,o,n,l,h,r){if("number"==typeof this.data.max){var a,d,p=n.length;this.ctx.font="12px Microsoft YaHei",this.ctx.fillStyle=l,this.ctx.strokeStyle=l,this.ctx.lineWidth=this.itemlineWidth,this.ctx.beginPath();for(var c=0;c<p;c++){var u=i+(c+.5)*s,_=new Number(n[c].value);_>this.data.max&&(_=this.data.max);_=o-t*_/this.data.max;this.ctx.beginPath(),this.ctx.fillRect(u-r,_,h,o-_),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.fillText(n[c].key,u-r,_-this._txt_h_offset),this.ctx.closePath(),this.ctx.stroke(),u-=r-h/2,this.showBrokenLine&&0!=c&&(this.ctx.beginPath(),this.drawLinePx(a,d,u,_),this.ctx.closePath(),this.ctx.stroke()),a=u,d=_}}},e.prototype.drawEdgeLine=function(t,e,i,s,o){this.ctx.strokeStyle=this.edgeLineColor,this.ctx.lineWidth=this.edgelineWidth,this.ctx.beginPath(),this.drawLinePx(e,o,e,this.height-this.padding-this.edgeBottomSpacing);for(var n=this.padding+this.edgeLeftSpacing,l=0;l<this.data.Y.length-1;l++){var h=l*t+o;this.drawLinePx(e,h,n,h),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.edgeLineHintColor,this.drawLinePx(e,h,this.width-this.padding,h),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.strokeStyle=this.edgeLineColor}this.drawLinePx(e-this._node_lenght,s,this.width-this.padding,s);for(l=0;l<=this.data.X.length;l++){var r=l*i+e;this.drawLinePx(r,s,r,s+this._node_lenght)}this.ctx.closePath(),this.ctx.stroke()},e.prototype.drawEdgeText=function(t,e,i,s,o){this.ctx.fillStyle=this.textColor,this.ctx.textBaseline="top",this.ctx.font="12px Microsoft YaHei";for(var n=0;n<this.data.Y.length;n++){var l=o+(this.data.Y.length-1-n)*t;this.ctx.fillText(this.data.Y[n],this.padding,l)}for(n=0;n<this.data.X.length;n++){var h=(n+.5)*i+e;this.ctx.textAlign="center",this.ctx.fillText(this.data.X[n].text,h,s+this._node_lenght),this.ctx.textAlign="left"}},e.prototype.drawTitleText=function(){if(void 0!==this.data.nodes){this.ctx.fillStyle=this.titleColor,this.ctx.font="13px Microsoft YaHei",this.ctx.textBaseline="bottom",this.ctx.beginPath(),this.ctx.fillText(this.data.title,this.padding,this.padding);for(var t,e=this.padding+this.strLen(this.data.title)+32,i=this.padding,s=this.data.nodes,o=0;o<s.length;o++)"string"==typeof s[o].color&&(t="","string"==typeof s[o].name&&(t=s[o].name),this.ctx.fillStyle=s[o].color,this.ctx.strokeStyle=s[o].color,this.ctx.beginPath(),this.ctx.fillRect(e,i-this._rectH,this._rectW,this._rectH),e+=24,this.ctx.fillText(t,e,i),e+=this.strLen(t)+13,this.ctx.closePath(),this.ctx.fill())}},e.prototype.drawLinePx=function(t,e,i,s){this.ctx.moveTo(t,e),this.ctx.lineTo(i,s)},e.prototype.strLen=function(t){for(var e=0,i=0;i<t.length;i++)this.filter.isChinese(t.charAt(i))?e+=16:this.filter.isUpper(t.charAt(i))?e+=12:this.filter.isNumber(t.charAt(i))?e+=9:e+=8;return e},this._create()}}(),function(){var e=Ele.Charts.Radar=function(t){this.eleType="canvas",this.ele,this.ctx,this.width=300,this.height=300,this.background="#FFFFFF",this.border="1px #EEEEEE solid",this.padding=70,this.numSlot=4,this.edgeLineColor="#EDEDED",this.edgelineWidth=1,this.textColor="#4C4C4C",this.itemColor="#4FDBDB",this.itemFillColor="rgba(79,219,219, 0.5)",this.itemlineWidth=1,this.itemPointWeight=2,this.data,"skin-black"==Ele._skin&&(this.background="#444444",this.border="1px #555555 solid",this.textColor="#F5F5F5"),e.prototype._init=function(){"object"==typeof t&&("number"==typeof t.width&&(this.width=t.width),"number"==typeof t.height&&(this.height=t.height),"string"==typeof t.background&&(this.background=t.background),"string"==typeof t.border&&(this.border=t.border),"number"==typeof t.padding&&(this.padding=t.padding),"number"==typeof t.numSlot&&(this.numSlot=t.numSlot),"string"==typeof t.edgeLineColor&&(this.edgeLineColor=t.edgeLineColor),"number"==typeof t.edgelineWidth&&(this.edgelineWidth=t.edgelineWidth),"string"==typeof t.textColor&&(this.textColor=t.textColor),"string"==typeof t.itemColor&&(this.itemColor=t.itemColor),"string"==typeof t.itemFillColor&&(this.itemFillColor=t.itemFillColor),"number"==typeof t.itemlineWidth&&(this.itemlineWidth=t.itemlineWidth),"number"==typeof t.itemPointWeight&&(this.itemPointWeight=t.itemPointWeight))},e.prototype._create=function(){this._init(),this.ele=document.createElement("canvas"),this.ele.width=this.width,this.ele.height=this.height,this.ele.style.background=this.background,this.ele.style.border=this.border,this.ctx=this.ele.getContext("2d")},e.prototype.setContainerById=function(t){document.getElementById(t).appendChild(this.ele)},e.prototype.draw=function(t,e){var i,s,o,n;void 0!==t&&("number"!=typeof e&&(e=100),this.data=t,s=(i=this.width/2)-this.padding,o=t.length,n=2*Math.PI/o,this.drawRadarEdge(i,o,s,n),this.drawRadarLinePoint(i,o,s,n),this.drawRadarText(t,i,o,s,n),this.drawRadarCircle(t,i,o,s,n,e),this.drawRadarRegion(t,i,o,s,n,e))},e.prototype.drawRadarRegion=function(t,e,i,s,o,n){this.ctx.beginPath();for(var l=0;l<i;l++){var h=t[l].value;n<h&&(h=n);var r=e+s*Math.cos(o*l)*h/n,h=e+s*Math.sin(o*l)*h/n;this.ctx.lineTo(r,h)}this.ctx.closePath(),this.ctx.fillStyle=this.itemFillColor,this.ctx.fill()},e.prototype.drawRadarCircle=function(t,e,i,s,o,n){for(var l=0;l<i;l++){var h=t[l].value;n<h&&(h=n);var r=e+s*Math.cos(o*l)*h/n,h=e+s*Math.sin(o*l)*h/n;this.ctx.beginPath(),this.ctx.arc(r,h,this.itemPointWeight,0,2*Math.PI),this.ctx.fillStyle=this.itemColor,this.ctx.fill()}},e.prototype.drawRadarText=function(t,e,i,s,o){this.ctx.fillStyle=this.textColor;for(var n=0;n<i;n++){var l=e+s*Math.cos(o*n),h=e+s*Math.sin(o*n);0<=o*n&&o*n<=Math.PI/2?this.ctx.fillText(t[n].key,l+5,h+5):o*n>Math.PI/2&&o*n<=Math.PI?this.ctx.fillText(t[n].key,l-this.ctx.measureText(t[n].key).width-7,h+5):o*n>Math.PI&&o*n<=3*Math.PI/2?this.ctx.fillText(t[n].key,l-this.ctx.measureText(t[n].key).width-5,h):this.ctx.fillText(t[n].key,l+7,h+2)}},e.prototype.drawRadarLinePoint=function(t,e,i,s){var o=t,n=t;this.ctx.beginPath();for(var l=0;l<e;l++){var h=t+i*Math.cos(s*l),r=t+i*Math.sin(s*l);this.ctx.moveTo(o,n),this.ctx.lineTo(h,r)}this.ctx.stroke()},e.prototype.drawRadarEdge=function(t,e,i,s){this.ctx.strokeStyle=this.edgeLineColor,this.ctx.lineWidth=this.edgelineWidth;for(var o=0;o<this.numSlot;o++){this.ctx.beginPath();for(var n=i/this.numSlot*(o+1),l=0;l<e;l++){var h=t+n*Math.cos(s*l),r=t+n*Math.sin(s*l);this.ctx.lineTo(h,r)}this.ctx.closePath(),this.ctx.stroke()}},this._create()}}(),function(){var e=Ele.Charts.Sector=function(t){this.eleType="canvas",this.ele,this.ctx,this.width=610,this.height=486,this.background="#FFFFFF",this.border="1px #EEEEEE solid",this.padding=20,this.edgeLeftSpacing=60,this.showTitle=!1,this.titleColor="#333333",this.itemlineWidth=1,this.cellSpacing=80,this.data,this._title_height=36,this._out_line=20,this._rectW=30,this._rectH=16,this._space=10,"skin-black"==Ele._skin&&(this.background="#444444",this.border="1px #555555 solid",this.titleColor="#FFFFFF"),e.prototype._init=function(){"object"==typeof t&&("number"==typeof t.width&&(this.width=t.width),"number"==typeof t.height&&(this.height=t.height),"string"==typeof t.background&&(this.background=t.background),"string"==typeof t.border&&(this.border=t.border),"number"==typeof t.padding&&(this.padding=t.padding),"number"==typeof t.edgeLeftSpacing&&(this.edgeLeftSpacing=t.edgeLeftSpacing),"boolean"==typeof t.showTitle&&(this.showTitle=t.showTitle),"string"==typeof t.titleColor&&(this.titleColor=t.titleColor),"number"==typeof t.itemlineWidth&&(this.itemlineWidth=t.itemlineWidth),"number"==typeof t.cellSpacing&&(this.cellSpacing=t.cellSpacing))},e.prototype._create=function(){this._init(),this.ele=document.createElement("canvas"),this.ele.width=this.width,this.ele.height=this.height,this.ele.style.background=this.background,this.ele.style.border=this.border,this.ctx=this.ele.getContext("2d")},e.prototype.setContainerById=function(t){document.getElementById(t).appendChild(this.ele)},e.prototype.draw=function(t){var o,n,l,e,i,h,r,a;"object"==typeof t&&"object"==typeof t.value&&(this.data=t,o=this.width/2+this.edgeLeftSpacing,n=this.height/2,l=0,i=2*(this.cellSpacing+this.padding),e=this.width-i-this.edgeLeftSpacing,i=this.height-i,this.showTitle&&(n+=this._title_height,i-=this._title_height,l+=this._title_height,this.drawTitleText()),h=(i<e?i:e)/2,t=(r=this).transformAngle(t.value),a=0,t.forEach(function(t,e){var i,s=a+t.angle;r.ctx.beginPath(),r.ctx.moveTo(o,n),r.ctx.arc(o,n,h,a,s),i="string"==typeof t.color?r.ctx.fillStyle=t.color:r.ctx.fillStyle=r.getRandomColor(),r.ctx.fill(),r.drawTitle(o,n,h,a,t.angle,i,t.title),r.drawDesc(e,l,t.title),a=s}))},e.prototype.drawTitle=function(t,e,i,s,o,n,l){var h=i+this._out_line,i=t+Math.cos(s+o/2)*h,h=e+Math.sin(s+o/2)*h;this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,h),this.ctx.strokeStyle=n,this.ctx.font="13px Microsoft YaHei";n=this.ctx.measureText(l).width;t<i?(this.ctx.lineTo(i+n,h),this.ctx.textAlign="left"):(this.ctx.lineTo(i-n,h),this.ctx.textAlign="right"),this.ctx.stroke(),this.ctx.textBaseline="bottom",this.ctx.fillText(l,i,h)},e.prototype.drawDesc=function(t,e,i){t=this.padding+e+t*(this._rectH+this._space);this.ctx.fillRect(this.padding,t,this._rectW,this._rectH),this.ctx.beginPath(),this.ctx.textAlign="left",this.ctx.textBaseline="top",this.ctx.font="12px Microsoft YaHei",this.ctx.fillText(i,this.padding+this._rectW+this._space,t)},e.prototype.transformAngle=function(t){var s=0;return t.forEach(function(t,e){s+=t.value}),t.forEach(function(t,e){var i=t.value/s*Math.PI*2;t.angle=i}),t},e.prototype.drawTitleText=function(){"string"==typeof this.data.title&&(this.ctx.fillStyle=this.titleColor,this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font="13px Microsoft YaHei",this.ctx.beginPath(),this.ctx.fillText(this.data.title,this.width/2,this.padding))},e.prototype.getRandomColor=function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"},this._create()}}(),function(){var e=Ele.Controllers.BaseController=function(t){this.eleType="controller",this._loadEvent=null,this._errorEvent=null,this._formatEvent=null,this._method="",this._arrayHead=[],this.url,this.parameter,this.addressSufix,e.prototype.setMethod=function(t){this._method=t},e.prototype.addRequestHead=function(t,e){"string"==typeof t&&"string"==typeof e&&""!=t.trim()&&this._arrayHead.push(t+","+e)},e.prototype.loadData=function(t){"string"==typeof t&&(this.url=t),this._loadData()},e.prototype.setFormat=function(t){"function"==typeof t&&(this._formatEvent=t)},e.prototype.setParameter=function(t){this.parameter=t},e.prototype.setAddressSufix=function(t){this.addressSufix=t},e.prototype._loadData=function(){var e=this,t=new Ele.Utils.Ajax;if(""!=this._method&&null!=this._method&&t.setMethod(this._method),0<this._arrayHead.length)for(var i=0;i<this._arrayHead.length;i++){var s=this._arrayHead[i].split(",");t.addRequestHead(s[0],s[1])}var o=this.url;void 0!==this.addressSufix&&null!=this.addressSufix&&(o+=this.addressSufix),void 0!==this.parameter&&null!=this.parameter&&("GET"==this._method?o+="?"+this.parameter:t.setParameter(this.parameter)),t.request(o,function(t){e._onResponse(t)})},e.prototype._onResponse=function(t){if(null==this._formatEvent){var e=null;try{e=JSON.parse(t)}catch(t){console.error("JSON解析异常：",t);var i={resCode:-1,resMsg:"JSON数据解析异常"};return void this._errorEvent(i)}1e3==e.resCode||null==this._errorEvent?null!=this._loadEvent&&this._loadEvent(e.data):(i={resCode:e.resCode,resMsg:e.resMsg},this._errorEvent(i))}else this._formatEvent(t)},e.prototype._init=function(){"function"==typeof t.loadHandler&&(this._loadEvent=t.loadHandler),"function"==typeof t.errorHandler&&(this._errorEvent=t.errorHandler),"function"==typeof t.formatHandler&&(this._formatEvent=t.formatHandler)},this._init()}}(),function(){var e=Ele.Controllers.PageController=function(t){this.eleType="controller",this.page,this.startRow,this.pageSize,this.totalPage,this.rows,this._loadEvent=null,this._errorEvent=null,this._formatEvent=null,this._method="GET",this._arrayHead=[],this._parameter=null,this._addressSufix=null,this._isRest=!1,this.url,e.prototype.setMethod=function(t){this._method=t},e.prototype.setParameter=function(t){this._parameter=t},e.prototype.setAddressSufix=function(t){this._addressSufix=t},e.prototype.setRest=function(t){this._isRest=t},e.prototype.addRequestHead=function(t,e){"string"==typeof t&&"string"==typeof e&&""!=t.trim()&&this._arrayHead.push(t+","+e)},e.prototype.loadData=function(t){"string"==typeof t&&(this.url=t),this._loadData()},e.prototype.reload=function(){this.page=1,this.startRow=0,this._loadData()},e.prototype.jumpPage=function(t){t<1||t>this.totalPage||(this.page=t,this.startRow=(t-1)*this.pageSize,this._loadData())},e.prototype.previousPage=function(){this.page<=1||(this.page--,this.startRow-=this.pageSize,this._loadData())},e.prototype.nextPage=function(){this.page>=this.totalPage||(this.page++,this.startRow+=this.pageSize,this._loadData())},e.prototype.setFormat=function(t){"function"==typeof t&&(this._formatEvent=t)},e.prototype.fillPageInfo=function(t,e,i){this.startRow=t,this.pageSize=e,this.rows=i,this.page=parseInt(this.startRow/this.pageSize)+1,this.totalPage=parseInt(this.rows/this.pageSize),this.rows%this.pageSize!=0&&this.totalPage++},e.prototype._loadData=function(){var e=this,t=new Ele.Utils.Ajax;if(t.setMethod(this._method),0<this._arrayHead.length)for(var i=0;i<this._arrayHead.length;i++){var s=this._arrayHead[i].split(",");t.addRequestHead(s[0],s[1])}var o=this.url;if(this._isRest)return o+="/"+this.startRow+"/"+this.pageSize,null!=this._addressSufix&&""!=this._addressSufix.trim()&&(o+="/"+this._addressSufix),null!=this._parameter&&""!=this._parameter.trim()&&("GET"==this._method?o+="?"+this._parameter:t.setParameter(this._parameter)),void t.request(o,function(t){e._onResponse(t)});var n="startRow="+this.startRow+"&pageSize="+this.pageSize;null!=this._parameter&&""!=this._parameter.trim()&&(n+="&"+this._parameter),null!=this._addressSufix&&""!=this._addressSufix.trim()&&(o+="/"+this._addressSufix),"GET"==this._method?o+="?"+n:t.setParameter(n),t.request(o,function(t){e._onResponse(t)})},e.prototype._onResponse=function(t){if(null==this._formatEvent){var e,i,s,o=null;try{o=JSON.parse(t)}catch(t){console.error("JSON parse exception：",t);var n={resCode:-1,resMsg:"JSON parse exception"};return void this._errorEvent(n)}1e3==o.resCode||null==this._errorEvent?(s=i=e=0,"number"==typeof o.startRow&&(e=o.startRow),"number"==typeof o.pageSize&&(i=o.pageSize),"number"==typeof o.rows&&(s=o.rows),this.fillPageInfo(e,i,s),null!=this._loadEvent&&this._loadEvent(o.data)):(n={resCode:o.resCode,resMsg:o.resMsg},this._errorEvent(n))}else this._formatEvent(t)},e.prototype._init=function(){"function"==typeof t.loadHandler&&(this._loadEvent=t.loadHandler),"function"==typeof t.errorHandler&&(this._errorEvent=t.errorHandler),"function"==typeof t.formatHandler&&(this._formatEvent=t.formatHandler),"number"==typeof t.pageSize?this.pageSize=t.pageSize:this.pageSize=-1,this.page=1,this.startRow=0,this.totalPage=0,this.rows=0},this._init()}}(),function(){var e=Ele.Controllers.PoolController=function(t){this.eleType="controller",this._loadEvent=null,this._errorEvent=null,this._formatEvent=null,this.pool=[],e.prototype.addConnection=function(t){if(void 0===t||void 0===t.name||void 0===t.url)throw"connection对象异常，请确保至少包含name和url属性";this.pool.push(t)},e.prototype.loadNameData=function(t,e,i){if(!(this.pool.length<1)){for(var s=null,o=0;o<this.pool.length;o++)if(this.pool[o].name==t){s=this.pool[o];break}null!=s&&(void 0!==e&&null!=e&&(s.parameter=e),this._loadData(s,i))}},e.prototype.setFormat=function(t){"function"==typeof t&&(this._formatEvent=t)},e.prototype._loadData=function(t,e){var i=this,s=new Ele.Utils.Ajax;if(void 0!==t.method&&""!=t.method&&null!=t.method&&s.setMethod(t.method),void 0!==t.heads&&0<t.heads.length)for(var o=0;o<t.heads.length;o++)s.addRequestHead(t.heads[o].name,t.heads[o].value);var n=t.url;void 0!==e&&null!=e&&(n+=e),void 0!==t.parameter&&null!=t.parameter&&(void 0!==t.method&&"GET"==t.method?n+="?"+t.parameter:s.setParameter(t.parameter)),s.request(n,function(t,e){i._onResponse(t,e)},t.name)},e.prototype._onResponse=function(t,e){if(null==this._formatEvent){var i=null;try{i=JSON.parse(t)}catch(t){console.error("JSON解析异常：",t);var s={resCode:-1,resMsg:"JSON数据解析异常"};return void this._errorEvent(s,e)}1e3==i.resCode||null==this._errorEvent?null!=this._loadEvent&&this._loadEvent(i.data,e):(s={resCode:i.resCode,resMsg:i.resMsg},this._errorEvent(s,e))}else this._formatEvent(t,e)},e.prototype._init=function(){"function"==typeof t.loadHandler&&(this._loadEvent=t.loadHandler),"function"==typeof t.errorHandler&&(this._errorEvent=t.errorHandler),"function"==typeof t.formatHandler&&(this._formatEvent=t.formatHandler)},this._init()}}(),function(){var t=Ele.Utils.Ajax=function(){this.eleType="util",this._method="POST",this._contentType="application/x-www-form-urlencoded",this._con=!0,this._parameter=null,this._arrayHead=[],t.prototype._createXmlHttp=function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return!1}}}return e},t.prototype.setMethod=function(t){this._method=t},t.prototype.setContentType=function(t){this._contentType=t},t.prototype.setSynchronization=function(t){this._con=t},t.prototype.setParameter=function(t){this._parameter=t},t.prototype.addRequestHead=function(t,e){"string"==typeof t&&"string"==typeof e&&""!=t.trim()&&this._arrayHead.push(t+","+e)},t.prototype.request=function(t,e,i){if(void 0!==t&&""!=t){var s=this._createXmlHttp();if(s.onreadystatechange=function(){4==s.readyState&&200==s.status&&"function"==typeof e&&e(s.responseText,i)},s.open(this._method,t,this._con),null!=this._contentType&&s.setRequestHeader("Content-Type",this._contentType),0<this._arrayHead.length)for(var o=0;o<this._arrayHead.length;o++){var n=this._arrayHead[o].split(",");s.setRequestHeader(n[0],n[1])}s.send(this._parameter)}}}}(),function(){var e=Ele.Utils.DateFormat=function(t){this.eleType="util",this._pattern,e.prototype.format=function(t){if(t instanceof Date){var e,i,s={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()},o=this._pattern;for(e in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(o)&&(o=o.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[t.getDay()+""])),/(q+)/.test(o)&&(i=Math.floor((t.getMonth()+3)/3),o=o.replace(RegExp.$1,1<RegExp.$1.length?"Q"+i:i)),s)new RegExp("("+e+")").test(o)&&(o=o.replace(RegExp.$1,1==RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)));return/(h+)/.test(o)&&(i=12<t.getHours()?"pm ":"am ",t=t.getHours()%12==0?12:t.getHours()%12,o=o.replace(RegExp.$1,i+(1==RegExp.$1.length?t:("00"+t).substr((""+t).length)))),o}},e.prototype.parse=function(t){var e,i,s=this._pattern;if(t.length<s.length)throw new Error("'"+t+"' content length must equals or more than pattern:"+s);if(/(h+)/.test(s)&&t.length+3<s.length)throw new Error("'"+t+"' content with 'h' length must more than pattern:"+s);for(var o=/(y|M|d|H|h|m|s|S|E|q)/,n={M:{name:"mouth",value:null},d:{name:"day",value:null},H:{name:"hour",value:null},m:{name:"minutes",value:null},s:{name:"seconds",value:null}},l=0;l<s.length;){var h,r=s.charAt(l);if("y"!=r)if("h"!=r){var a,d=!1;for(a in n)if(r==a){if(d=!0,new RegExp("("+a+"+)").test(s),i=RegExp.$1.length,e=s.indexOf(RegExp.$1),i<2)if(e==s.length-1)t.length>s.length?n[a].value=t.substring(e,e+2):n[a].value=t.substring(e,e+1);else{if(o.test(s.charAt(e+1)))throw new Error("single "+n[a].name+" format need divider.");if(s.charAt(e+1)!=t.charAt(e+1)&&s.charAt(e+1)!=t.charAt(e+2))throw new Error("single "+n[a].name+" format data divider not found,data:"+t);""==t.charAt(e+1).trim()||isNaN(t.charAt(e+1))||s.charAt(e+1)==t.charAt(e+1)?n[a].value=t.substring(e,e+1):(n[a].value=t.substring(e,e+2),t=t.substring(0,e)+a+t.substring(e+2,t.length))}else{if(e==t.length-1)throw new Error("'"+RegExp.$1+"' double parse error to '"+t.charAt(t.length-1)+"'");if(""==t.charAt(e).trim()||""==t.charAt(e+1).trim())throw new Error("'"+RegExp.$1+"' double parse error to '"+t.substring(e,e+2)+"'");if(isNaN(t.charAt(e))||isNaN(t.charAt(e+1)))throw new Error("'"+RegExp.$1+"' double parse error to '"+t.substring(e,e+2)+"'");n[a].value=t.substring(e,e+2)}if(""==n[a].value.trim()||isNaN(n[a].value))throw new Error(n[a].name+" parse error:"+n[a].value);n[a].value=parseInt(n[a].value),l+=i;break}d||l++}else{/(h+)/.test(s),i=RegExp.$1.length,e=s.indexOf(RegExp.$1);var p=t.substring(e,e+2);if(t=t.substring(0,e)+t.substring(e+3,t.length),s.charAt(e+1),i<2)if(e==s.length-1)t.length>s.length?n.H.value=t.substring(e,e+2):n.H.value=t.substring(e,e+1);else{if(o.test(s.charAt(e+1)))throw new Error("single hour format need divider.");if(s.charAt(e+1)!=t.charAt(e+1)&&s.charAt(e+1)!=t.charAt(e+2))throw new Error("single "+n[a].name+" format data divider not found,data:"+t);""==t.charAt(e+1).trim()||isNaN(t.charAt(e+1))||s.charAt(e+1)==t.charAt(e+1)?n.H.value=t.substring(e,e+1):(n.H.value=t.substring(e,e+2),t=t.substring(0,e)+"h"+t.substring(e+2,t.length))}else{if(e==t.length-1)throw new Error("'"+RegExp.$1+"' double parse error to '"+t.charAt(t.length-1)+"'");if(""==t.charAt(e).trim()||""==t.charAt(e+1).trim())throw new Error("'"+RegExp.$1+"' double parse error to '"+t.substring(e,e+2)+"'");if(isNaN(t.charAt(e))||isNaN(t.charAt(e+1)))throw new Error("'"+RegExp.$1+"' double parse error to '"+t.substring(e,e+2)+"'");n.H.value=t.substring(e,e+2)}if(""==n.H.value.trim()||isNaN(n.H.value))throw new Error("hour parse error:"+n.H.value);n.H.value=parseInt(n.H.value),"pm"==p&&(n.H.value=n.H.value+12),l+=i}else{if(/(y+)/.test(s),i=RegExp.$1.length,e=s.indexOf(RegExp.$1),h=t.substring(e,e+i),i<4&&(h=((new Date).getFullYear()+"").substring(e,e+(4-RegExp.$1.length))+h),""==h.trim()||isNaN(h))throw new Error("year parse error:"+h);h=parseInt(h),l+=i}}return new Date(h,parseInt(n.M.value)-1,n.d.value,n.H.value,n.m.value,n.s.value)},e.prototype.setPattern=function(t){"string"==typeof t&&(this._pattern=t)},e.prototype.getPattern=function(){return this._pattern},e.prototype._init=function(){this._pattern="yyyy-MM-dd","string"==typeof t&&(this._pattern=t)},this._init()}}(),function(){var t=Ele.Utils.Descartes=function(){this.eleType="util",this.array=[],t.prototype.addArray=function(t){this.array.push(t)},t.prototype.toStringDescartes=function(){var t,e=[];for(t in this.array){var i=this.array[t];if(0==t)for(var s in i)e.push(i[s]);else e=this.copyString(e,i)}return e},t.prototype.copyString=function(t,e){var i,s=[];for(i in t)for(var o in e)s.push(t[i]+e[o]);return s},t.prototype.toArrayDescartes=function(){var t,e=[];for(t in this.array){var i=this.array[t];if(0==t)for(var s in i)e.push([i[s]]);else e=this.copyArray(e,i)}return e},t.prototype.copyArray=function(t,e){var i,s=[];for(i in t)for(var o in e)s.push(this.appendArray(t[i],e[o]));return s},t.prototype.appendArray=function(t,e){var i,s=[];for(i in t)s.push(t[i]);return s.push(e),s}}}(),function(){var t=Ele.Utils.Filter=function(){this.eleType="util",this._injectionKey=["&","/","\\",'"',"'","<",">"],t.prototype.isNumber=function(t){return/^(0|[1-9][0-9]*)$/.test(t)},t.prototype.isPhoneNumber=function(t){return/^[1][3456789][0-9]{9}$/.test(t)},t.prototype.isCount=function(t){return/^([1-9]|[1-9][0-9]*)$/.test(t)},t.prototype.isChinese=function(t){return/^[\u4E00-\u9FA5]$/.test(t)},t.prototype.isLetter=function(t){return/^[a-zA-Z]$/.test(t)},t.prototype.isUpper=function(t){return/^[A-Z]$/.test(t)},t.prototype.isLower=function(t){return/^[a-z]$/.test(t)},t.prototype.injectionKey=function(t){for(var e=!1,i=0,s=this._injectionKey.length;i<s;i++)if(-1!=t.indexOf(this._injectionKey[i])){e=!0;break}return e}}}(),function(){var t=Ele.Utils.Position=function(){this.eleType="util",this.positionType,this.left,this.top,this.right,this.bottom,this.toTop,this.toLeft,this.toScrollTop,this.toScrollLeft,t.prototype._init=function(){this.positionType="bottom-left",this.left=0,this.top=0,this.right=0,this.bottom=0},t.prototype.toPosition=function(t){this.toTop=0,this.toLeft=0,this.toScrollTop=0,this.toScrollLeft=0,this._recursion(t)},t.prototype._recursion=function(t){null!=t.offsetParent&&(this.toTop+=t.offsetParent.offsetTop,this.toLeft+=t.offsetParent.offsetLeft,this.toScrollTop+=t.offsetParent.scrollTop,this.toScrollLeft+=t.offsetParent.scrollLeft,this._recursion(t.offsetParent))},t.prototype.inTopLeft=function(t){var e,i,s;Ele._isElement(t)&&(this.positionType="top-left",this.toPosition(t),e=t.offsetTop+this.toTop,i=t.offsetLeft+this.toLeft,s=this.toScrollTop,t=this.toScrollLeft,this.bottom=e-s,this.left=i-t)},t.prototype.inTopRight=function(t){var e,i,s,o;Ele._isElement(t)&&(this.positionType="top-right",this.toPosition(t),e=t.offsetTop+this.toTop,i=t.offsetLeft+this.toLeft,s=t.offsetWidth,o=this.toScrollTop,t=this.toScrollLeft,this.bottom=e-o,this.right=i+s-t)},t.prototype.inBottomLeft=function(t){var e,i,s,o;Ele._isElement(t)&&(this.positionType="bottom-left",this.toPosition(t),e=t.offsetTop+this.toTop,i=t.offsetLeft+this.toLeft,s=this.toScrollTop,o=this.toScrollLeft,t=t.offsetHeight,this.top=e+t-s,this.left=i-o)},t.prototype.inBottomRight=function(t){var e,i,s,o,n;Ele._isElement(t)&&(this.positionType="bottom-right",this.toPosition(t),e=t.offsetTop+this.toTop,i=t.offsetLeft+this.toLeft,s=t.offsetWidth,o=t.offsetHeight,n=this.toScrollTop,t=this.toScrollLeft,this.top=e+o-n,this.right=i+s-t)},t.prototype.setOffset=function(t){t instanceof Ele.Utils.Size&&("top-left"==this.positionType&&(this.left+=t.width,this.bottom+=t.height),"top-right"==this.positionType&&(this.right+=t.width,this.bottom+=t.height),"bottom-left"==this.positionType&&(this.left+=t.width,this.top+=t.height),"bottom-right"==this.positionType&&(this.right+=t.width,this.top+=t.height))},this._init()},i=Ele.Utils.Size=function(t,e){this.eleType="util",this.width,this.height,i.prototype._init=function(){this.width=t,this.height=e},this._init()}}(),function(){var i=Ele.Utils.Timer=function(t,e){this.eleType="util",this._interval=20,this._funName=function(){},this.data=null,i.prototype._init=function(){"function"==typeof t&&(this._funName=t),"number"==typeof e&&(this._interval=e)},i.prototype.setData=function(t){this.data=t},i.prototype.execute=function(){this._exe(this)},i.prototype._exe=function(t){t._funName(t.data)&&setTimeout(t._exe,t._interval,t)},this._init()}}(),function(){var t=Ele.Utils.Validate=function(){this.eleType="util",this.validates=[],this.filter,this.error,this._notEmpty=!1,t.prototype.isEmpty=function(t){return"string"!=typeof t||""==t.trim()},t.prototype.validate=function(t){var e,i=!0;if(this._notEmpty&&this.isEmpty(t))return!(this.error="内容不能为空");if(this.validates.length<1)return!0;for(e in this.validates)if(this.validates[e]instanceof r){var s=t.length;if(s<this.validates[e].start){this.error="长度不能少于"+this.validates[e].start,i=!1;break}if(s>this.validates[e].end){this.error="长度不能多于"+this.validates[e].end,i=!1;break}}else{if(this.validates[e]instanceof a){if(this.validates[e].test(t))continue;this.error="正则验证失败","string"==typeof this.validates[e].errorMsg&&(this.error=this.validates[e].errorMsg),i=!1;break}if(this.validates[e]instanceof d){s=t.charAt(0);if(this.filter.isLetter(s))continue;i=!(this.error="请以字母开头");break}if(this.validates[e]instanceof p){for(var o=!1,n=0;n<t.length;n++)if(this.filter.isChinese(t.charAt(n))){o=!0;break}if(o){i=!(this.error="内容不能包含中文字符");break}}else if(this.validates[e]instanceof c){for(var l=!1,n=0;n<t.length;n++)if(!this.filter.isChinese(t.charAt(n))){l=!0;break}if(l){i=!(this.error="内容仅限中文字符");break}}else if(this.validates[e]instanceof u){for(var h=!1,n=0;n<t.length;n++)if(this.filter.injectionKey(t.charAt(n))){h=!0;break}if(h){i=!(this.error="内容包含非法字符");break}}else;}return i},t.prototype.addNotEmpty=function(){this._notEmpty=!0},t.prototype.addLimit=function(t,e){"number"==typeof t&&"number"==typeof e&&(t<0||e<0||(this._notEmpty=!0,this.validates.push(new r(t,e))))},t.prototype.addReg=function(t,e){t instanceof RegExp&&(this._notEmpty=!0,this.validates.push(new a(t,e)))},t.prototype.addStartWithLetter=function(){this._notEmpty=!0,this.validates.push(new d)},t.prototype.addNoChinese=function(){this._notEmpty=!0,this.validates.push(new p)},t.prototype.addAllChinese=function(){this._notEmpty=!0,this.validates.push(new c)},t.prototype.addInjectionKey=function(){this._notEmpty=!0,this.validates.push(new u)},t.prototype._init=function(){this.filter=new Ele.Utils.Filter},this._init()},r=function(t,e){this.start,this.end,r.prototype._init=function(){this.start=t,this.end=e},this._init()},a=function(t,e){this.reg,this.errorMsg,a.prototype._init=function(){this.reg=t,this.errorMsg=e},a.prototype.test=function(t){return this.reg.test(t)},this._init()},d=function(){},p=function(){},c=function(){},u=function(){}}(),function(){var t=Ele.Utils.WinInner=function(){this.eleType="util",this._width,this._height,this._handlers=[];var e=this;t.prototype._init=function(){void 0!==window.innerWidth?(this._width=window.innerWidth,this._height=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(this._width=document.documentElement.clientWidth,this._height=document.documentElement.clientHeight):(this._width=document.getElementsByTagName("body")[0].clientWidth,this._height=document.getElementsByTagName("body")[0].clientHeight)},t.prototype._onResizeResponse=function(){if(e._init(),0<e._handlers.length)for(var t=0;t<e._handlers.length;t++)e._handlers[t](e._width,e._height)},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.addResizeHandler=function(t){"function"==typeof t&&this._handlers.push(t)},this._init(),window.addEventListener("resize",this._onResizeResponse,!1)}}(),function(){var e=Ele.Views.Board=function(t){this.eleType="layout",this.ele,this.view,e.prototype._init=function(){this.view="boolean"==typeof t&&t?new Ele.Layout("ele_board_full"):new Ele.Layout("ele_board"),this.ele=this.view.ele},e.prototype.addBoard=function(t){this.view.add(t)},this._init()},i=Ele.Views.EmptyBoard=function(){this.eleType="layout",this.ele,this.view,this.board,i.prototype._init=function(){this.view=new Ele.Layout("ele_empty_board"),this.board=new Ele.Layout("ele_board_view"),this.ele=this.view.ele,this.view.add(this.board)},i.prototype.addView=function(t){this.board.add(t)},this._init()},t=Ele.Views.FullBoard=function(){this.eleType="layout",this.ele,this.view,this.board,t.prototype._init=function(){this.view=new Ele.Layout("ele_full_board"),this.board=new Ele.Layout("ele_full_board_view ele_scrollbar"),this.ele=this.view.ele,this.view.add(this.board)},t.prototype.addView=function(t){this.board.add(t)},this._init()},s=Ele.Views.EdgeBoard=function(){this.eleType="layout",this.ele,this.view,this._leftView,this._rightView,s.prototype._init=function(){var t=new i;this.view=t.view,this.ele=this.view.ele,this._leftView=new Ele.Layout("ele_fl"),this._rightView=new Ele.Layout("ele_fr");var e=new Ele.Layout("ele_cl");t.addView(this._leftView),t.addView(this._rightView),t.addView(e)},s.prototype.setLeft=function(t){this._leftView.clear(),this._leftView.add(t)},s.prototype.setRight=function(t){this._rightView.clear(),this._rightView.add(t)},this._init()},o=Ele.Views.MergeBoard=function(){this.eleType="layout",this.ele,this.view,this.leftBoard,this.centerBoard,this.rightBoard,this._leftView,this._centerView,this._rightView,o.prototype._init=function(){this.view=new Ele.Layout("ele_merge_board"),this.leftBoard=new Ele.Layout("ele_merge_left_board"),this.centerBoard=new Ele.Layout("ele_merge_center_board"),this.rightBoard=new Ele.Layout("ele_merge_right_board"),this.ele=this.view.ele,this.view.add(this.leftBoard),this.view.add(this.centerBoard),this.view.add(this.rightBoard);var t=new Ele.Layout("ele_cl");this.view.add(t),this._leftView=new Ele.Layout("ele_board_view"),this._centerView=new Ele.Layout("ele_board_view"),this._rightView=new Ele.Layout("ele_board_view"),this.leftBoard.add(this._leftView),this.centerBoard.add(this._centerView),this.rightBoard.add(this._rightView)},o.prototype.setLeft=function(t){this._leftView.clear(),this._leftView.add(t)},o.prototype.setCenter=function(t){this._centerView.clear(),this._centerView.add(t)},o.prototype.setRight=function(t){this._rightView.clear(),this._rightView.add(t)},this._init()},n=Ele.Views.HLineBoard=function(){this.eleType="layout",this.ele,this.view,this.boards=[],this._cl,this._pc_default=50,n.prototype._init=function(){this.view=new Ele.Layout("ele_h_line_board"),this.ele=this.view.ele,this._cl=new Ele.Layout("ele_cl"),this.view.add(this._cl)},n.prototype.addView=function(t,e){if("object"!=typeof t)throw"method parameter 'bview' of add can't be empty.";var i=this._pc_default;"number"==typeof e&&((i=e)<0&&(i=0),100<i&&(i=100));e=new Ele.Layout("ele_h_line_content_board");e.ele.style.width=i+"%";i=new Ele.Layout("ele_board_view");e.add(i),i.add(t),this.view.add(e)},this._init()}}(),function(){var t=Ele.Views.ClusterCheckBoxView=function(){this.eleType="layout",this.ele,this.view,this.baseController,this.items,this.permissionLength,this._dataFormat=null,this._onDataSourcesLoad=null,t.prototype.setDataFormat=function(t){"function"==typeof t&&(this._dataFormat=t)},t.prototype.setOnDataSourcesLoad=function(t){"function"==typeof t&&(this._onDataSourcesLoad=t)},t.prototype.getValues=function(){if(this.items.length<1)return"";var t,e="";for(t in this.items)for(var i=this.items[t].getSelectedValue(),s=0;s<i.length;s++)e+=i[s]+",";return""!=e&&(e=e.substr(0,e.length-1)),e},t.prototype.setValues=function(t,e){if(!(this.items.length<1)){var i,s=t.split(",");for(i in s){var o,n=s[i];if("function"==typeof e&&void 0===(n=e(n)))break;for(o in this.items){var l=this.items[o].getIndexByValue(n);if(-1!=l){this.items[o].select(l);break}}}}},t.prototype.getPermission=function(){if(this.items.length<1)return"";var t,e="";for(t in this.items){var i=this.items[t]._radios,s=[];if(0<i.length)for(var o=0;o<i.length;o++)s[o]="0";var n,l,h=this.items[t].getSelectedIndex();for(n in 0<h.length?e+="1":e+="0",h)s[h[n]]="1";for(l in s)e+=s[l]}return e},t.prototype.setPermission=function(t){if("string"==typeof t&&this.permissionLength==t.length&&!(this.items.length<1)){var e,i=0;for(e in this.items){var s=this.items[e]._radios;if("0"!=t.charAt(i)){if(i++,!(s.length<1))for(var o=0;o<s.length;o++)"1"==t.charAt(i)&&this.items[e].select(o),i++}else i+=s.length+1}}},t.prototype.add=function(t){null!=this._dataFormat&&this._dataFormat(t),void 0===t.title&&(t.title="");var e=new Ele.Layout("ele_permission_item"),i=new Ele.Layout("ele_permission_root");i.setHtml(t.title),e.add(i);var s=new Ele.Layout("ele_permission_children"),i=new Ele.CheckGroup(t);s.add(i),e.add(s),this.view.add(e),this.items.push(i),this.permissionLength+=t.items.length+1},t.prototype.loadDataSources=function(t){if(Ele._isArray(t)){this.view.clear(),this.items=[];for(var e=this.permissionLength=0;e<t.length;e++)this.add(t[e]);null!=this._onDataSourcesLoad&&this._onDataSourcesLoad()}},t.prototype._onDataResponse=function(t){this.loadDataSources(t)},t.prototype.loadDataSourcesUrl=function(t,e,i){"function"==typeof i&&(this._onErrorResponse=i),void 0!==e&&""!=e&&null!=e?this.baseController.setMethod(e):this.baseController.setMethod("GET"),this.baseController.loadData(t)},t.prototype._init=function(){this.view=new Ele.Layout("ele_permission_view"),this.ele=this.view.ele,this.items=[],this.permissionLength=0;var e=this;this.baseController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse(t)},errorHandler:function(t){null!=e._onErrorResponse&&e._onErrorResponse(t)}})},this._init()}}(),function(){var t=Ele.Views.FileView=function(n){this.eleType="layout",this.ele,this.view,this.confirm,this.groupView,this.titleView,this.emptyView,this.tbGroup,this.listView,this.fileView,this.permission,this.groupController,this.fileController,this.gAddController,this.gDeleteController,this.fDeleteController,this._groupCount,this._groupSelect,this._items,this._pages,this._viewEvent,this._errorEvent,this._groupListUrl,this._fileListUrl,this._groupAddUrl,this._groupDeleteUrl,this._uploadUrl,this._updateUrl,this._deleteUrl,t.prototype.setTitle=function(t){"string"==typeof t&&this.titleView.setHtml(t)},t.prototype.setViewHandler=function(t){"function"==typeof t&&(this._viewEvent=t)},t.prototype.setErrorHandler=function(t){"function"==typeof t&&(this._errorEvent=t)},t.prototype.addGroup=function(t,e){var i="ele_file_group_item ele_file_group_double";this._groupCount%2==0&&(i="ele_file_group_item ele_file_group_single");var s=this,i=new Ele.Layout(i);i.setHtml(t),i.ele.index=this._groupCount,i.ele.value=e,i.ele.onclick=function(){s.select(this.index,this.value)},this.groupView.add(i),this._items.push(i),this._groupCount++},t.prototype.addFile=function(e){var i=this,t=new Ele.Layout("ele_file_item_view"),s=new Ele.Layout("ele_file_item"),o=new Ele.Layout("ele_file_item_delete_view"),n=new Ele.Layout("ele_file_item_edit_view"),l=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_remove_white.png","ele_file_item_icon"),h=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_edit.png","ele_file_item_icon");n.ele.onclick=function(){i._pages.pushView(i._initPageEdit(e))},o.ele.onclick=function(){if(null==i.confirm){var t=e.id;return null!=i._deleteUrl.url&&""!=i._deleteUrl.url.trim()?void i.fDeleteController.loadData(i._deleteUrl.url+"?file="+t):void("function"==typeof i._viewEvent&&i._viewEvent("fileDelete",{file:t}))}i.confirm.setMsg("确认要删除该文件吗？"),i.confirm.setSureHandler(function(){var t=e.id;null==i._deleteUrl.url||""==i._deleteUrl.url.trim()?"function"==typeof i._viewEvent&&i._viewEvent("fileDelete",{file:t}):i.fDeleteController.loadData(i._deleteUrl.url+"?file="+t)}),i.confirm.show()},o.add(l),n.add(h),null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(6)&&s.add(o),null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(5)&&s.add(n);h=new Ele.Img(e.url,"ele_file_item_img"),o=new Ele.Layout("ele_file_item_text");o.setHtml(e.name);n=new Ele.Layout("ele_file_item_text ele_file_item_text_info");n.setHtml(e.size),s.add(h),s.add(o),s.add(n),t.add(s),this.fileView.add(t)},t.prototype.clearGroup=function(){this.groupView.clear(),this._items.splice(0,this._groupCount),this._groupCount=0},t.prototype.select=function(t,e){var i;t<0||this._groupSelect==t||t>=this._groupCount||(i=t%2==0?"ele_file_group_item ele_file_group_selected ele_file_group_single":"ele_file_group_item ele_file_group_selected ele_file_group_double",this._items[t].ele.className=i,-1!=this._groupSelect&&(i="ele_file_group_item ele_file_group_double",this._groupSelect%2==0&&(i="ele_file_group_item ele_file_group_single"),this._items[this._groupSelect].ele.className=i),this._groupSelect=t,null!=this._fileListUrl.url&&""!=this._fileListUrl.url.trim()&&null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(3)&&this.fileController.loadData(this._fileListUrl.url+"?group="+e))},t.prototype._init=function(){this.view=new Ele.Layout("ele_file_view"),this.ele=this.view.ele,this.confirm=null,this.permission="1111111",this._groupCount=0,this._groupSelect=-1,this._items=[];var e=this;"object"==typeof n&&("string"==typeof n.groupListUrl?this._groupListUrl={url:n.groupListUrl,method:"GET"}:this._groupListUrl=n.groupListUrl,"string"==typeof n.fileListUrl?this._fileListUrl={url:n.fileListUrl,method:"GET"}:this._fileListUrl=n.fileListUrl,"string"==typeof n.groupAddUrl?this._groupAddUrl={url:n.groupAddUrl,method:"POST"}:this._groupAddUrl=n.groupAddUrl,"string"==typeof n.groupDeleteUrl?this._groupDeleteUrl={url:n.groupDeleteUrl,method:"DELETE"}:this._groupDeleteUrl=n.groupDeleteUrl,"string"==typeof n.uploadUrl?this._uploadUrl={url:n.uploadUrl,method:"POST"}:this._uploadUrl=n.uploadUrl,"string"==typeof n.updateUrl?this._updateUrl={url:n.updateUrl,method:"PUT"}:this._updateUrl=n.updateUrl,"string"==typeof n.deleteUrl?this._deleteUrl={url:n.deleteUrl,method:"DELETE"}:this._deleteUrl=n.deleteUrl,"string"==typeof n.permission&&(this.permission=n.permission),void 0!==n.confirm&&(this.confirm=n.confirm));var t=new Ele.Layout("ele_file_group_view");this.groupView=new Ele.Layout("ele_file_group ele_scrollbar"),t.add(this.groupView);var i=new Ele.Layout("ele_file_content_view");this._pages=new Ele.Views.PageControllerView,this._pages.pushView(this._initPageList()),i.add(this._pages),this.titleView=new Ele.Layout("ele_file_title"),this.titleView.setHtml("分组列表");var s=new Ele.HLayout("ele_file_add");this.tbGroup=new Ele.TextBox({style:"ele_file_editgroup_style"}),s.add(this.tbGroup,{padding:"0 0 0 8px"});var o=new Ele.Button({text:"添加",onclick:function(){var t=e.tbGroup.getValue();null==e._groupAddUrl.url||""==e._groupAddUrl.url.trim()?"function"==typeof e._viewEvent&&e._viewEvent("addGroup",{name:t}):e.gAddController.loadData(e._groupAddUrl.url+"?groupName="+t)}});s.add(o,{padding:"0 0 0 12px"}),this.view.add(t),this.view.add(this.titleView),null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(1)&&this.view.add(s),this.view.add(i),"object"==typeof this._groupListUrl&&(this.groupController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse("groupList",t)},errorHandler:function(t){null!=e._errorEvent&&e._errorEvent(t)}}),this.groupController.setMethod(this._groupListUrl.method),null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(0)&&this.groupController.loadData(this._groupListUrl.url)),"object"==typeof this._fileListUrl&&(this.fileController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse("fileList",t)},errorHandler:function(t){null!=e._errorEvent&&e._errorEvent(t)}}),this.fileController.setMethod(this._fileListUrl.method)),"object"==typeof this._groupAddUrl&&(this.gAddController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse("groupAdd",t)},errorHandler:function(t){null!=e._errorEvent&&e._errorEvent(t)}}),this.gAddController.setMethod(this._groupAddUrl.method)),"object"==typeof this._groupDeleteUrl&&(this.gDeleteController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse("groupDelete",t)},errorHandler:function(t){null!=e._errorEvent&&e._errorEvent(t)}}),this.gDeleteController.setMethod(this._groupDeleteUrl.method)),"object"==typeof this._deleteUrl&&(this.fDeleteController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse("fileDelete",t)},errorHandler:function(t){null!=e._errorEvent&&e._errorEvent(t)}}),this.fDeleteController.setMethod(this._deleteUrl.method))},t.prototype._onDataResponse=function(t,e){if("groupList"!=t)if("fileList"!=t)if("groupAdd"!=t)return"groupDelete"==t?(this._groupSelect=-1,void this.groupController.loadData(this._groupListUrl.url)):void("fileDelete"==t&&(o=this._items[this._groupSelect].ele.value,null!=this._fileListUrl.url&&""!=this._fileListUrl.url.trim()&&this.fileController.loadData(this._fileListUrl.url+"?group="+o)));else this.groupController.loadData(this._groupListUrl);else{this.listView.clear();var i=e.length;if(0<i){this.fileView.clear();for(s=0;s<i;s++)this.addFile(e[s]);this.listView.add(this.fileView)}else this.listView.add(this.emptyView)}else{for(var s in this.clearGroup(),e)this.addGroup(e[s].name,e[s].value);var o;0<this._groupCount&&(-1!=this._groupSelect?(o=this._groupSelect,this._groupSelect=-1,this.select(o,e[o].value)):this.select(0,e[0].value))}},t.prototype._initPageList=function(){var t=new Ele.Layout("ele_file_content"),e=new Ele.HLayout("ele_file_content_bar"),i=new Ele.Layout("ele_file_content_bar_edge"),s=new Ele.Layout("ele_file_content_bar_center");s.setHtml("文件列表");var o=new Ele.Layout("ele_file_content_bar_edge");o.setAlign("right");var n=this,l=new Ele.IconLabel({text:"添加文件",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_add.png",focusIcon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_add_focus.png",onclick:function(){n._pages.pushView(n._initPageAdd())}}),h=new Ele.IconLabel({text:"删除该分组",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_remove.png",focusIcon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_remove_focus.png",onclick:function(){if(null==n.confirm){var t=n._items[n._groupSelect].ele.value;return null!=n._groupDeleteUrl.url&&""!=n._groupDeleteUrl.url.trim()?void n.gDeleteController.loadData(n._groupDeleteUrl.url+"?group="+t):void("function"==typeof n._viewEvent&&n._viewEvent("groupDelete",{group:t}))}n.confirm.setMsg("确认要删除该分组吗？"),n.confirm.setSureHandler(function(){var t=n._items[n._groupSelect].ele.value;null==n._groupDeleteUrl.url||""==n._groupDeleteUrl.url.trim()?"function"==typeof n._viewEvent&&n._viewEvent("groupDelete",{group:t}):n.gDeleteController.loadData(n._groupDeleteUrl.url+"?group="+t)}),n.confirm.show()}});null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(2)&&i.add(h),null!=this.permission&&7==this.permission.length&&"1"==this.permission.charAt(4)&&o.add(l),e.add(i,{width:"40%"}),e.add(s,{width:"20%"}),e.add(o,{width:"40%"}),t.add(e),this.listView=new Ele.Layout("ele_file_content_body ele_scrollbar"),this.fileView=new Ele.Layout("ele_file_list_view"),this.emptyView=new Ele.VLayout("ele_file_empty");o=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/empty.png","ele_file_empty_image"),e=new Ele.Label("暂无数据");return this.emptyView.add(o,{padding:"96px 0 0 0"}),this.emptyView.add(e),this.listView.add(this.emptyView),t.add(this.listView),t},t.prototype._initPageAdd=function(){var t=new Ele.Layout("ele_file_content"),e=new Ele.HLayout("ele_file_content_bar"),i=new Ele.Layout("ele_file_content_bar_edge"),s=new Ele.Layout("ele_file_content_bar_center");s.setHtml("添加文件");var o=new Ele.Layout("ele_file_content_bar_edge");o.setAlign("right");var n=this,l=new Ele.IconLabel({text:"返回",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_previous.png",focusIcon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_previous_focus.png",onclick:function(t,e){n._pages.pullView()}}),h=new Ele.IconLabel({text:"文件列表 / 添加文件",style:"ele_icon_label ele_icon_label_none",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_position.png"});o.add(h),i.add(l),e.add(i,{width:"40%"}),e.add(s,{width:"20%"}),e.add(o,{width:"40%"}),t.add(e);var l=new Ele.Layout("ele_file_content_body ele_scrollbar"),i=new Ele.Layout("ele_file_form"),r=new Ele.Views.FormView,s=new Ele.Views.TextBoxItem({name:"fileName",text:"文件名称",hint:"请输入"});s.validateNotEmpty();o=new Ele.Views.FileItem({name:"file",text:"文件"});o.validateNotEmpty(),r.setEnctypeMfd(),r.addItem(s),r.addItem(o),i.add(r);e=new Ele.HLayout("ele_file_form_button_panel"),s=new Ele.Button({text:"重置",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_reset.png",onclick:function(){r.reset(),"function"==typeof n._viewEvent&&n._viewEvent("reset",{})}}),o=new Ele.Button({text:"提交",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_submit.png",onclick:function(){if(r.validate())return null!=n._uploadUrl.url&&""!=n._uploadUrl.url.trim()?(r.setAction(n._uploadUrl.url+"?group="+n._items[n._groupSelect].ele.value),r.setMethod(n._uploadUrl.method),void r.submitFormAjax(function(t){var e=JSON.parse(t);1e3==e.resCode||null==n._errorEvent?(n._pages.pullView(),t=n._items[n._groupSelect].ele.value,null!=n._fileListUrl.url&&""!=n._fileListUrl.url.trim()&&n.fileController.loadData(n._fileListUrl.url+"?group="+t)):(e={resCode:e.resCode,resMsg:e.resMsg},n._errorEvent(e))})):void("function"==typeof n._viewEvent&&n._viewEvent("upload",{formView:r}))}});return e.add(s,{padding:"0 0 0 176px"}),e.add(o,{padding:"0 0 0 16px"}),i.add(e),l.add(i),t.add(l),t},t.prototype._initPageEdit=function(t){var e=new Ele.Layout("ele_file_content"),i=new Ele.HLayout("ele_file_content_bar"),s=new Ele.Layout("ele_file_content_bar_edge"),o=new Ele.Layout("ele_file_content_bar_center");o.setHtml("修改文件");var n=new Ele.Layout("ele_file_content_bar_edge");n.setAlign("right");var l=this,h=new Ele.IconLabel({text:"返回",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_previous.png",focusIcon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_previous_focus.png",onclick:function(t,e){l._pages.pullView()}}),r=new Ele.IconLabel({text:"文件列表 / 修改文件",style:"ele_icon_label ele_icon_label_none",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_position.png"});n.add(r),s.add(h),i.add(s,{width:"40%"}),i.add(o,{width:"20%"}),i.add(n,{width:"40%"}),e.add(i);h=new Ele.Layout("ele_file_content_body ele_scrollbar"),s=new Ele.Layout("ele_file_form"),o=new Ele.Layout("ele_file_editfile_view"),n=new Ele.Img(t.url,"ele_file_editfile_image");o.add(n),s.add(o);var a=new Ele.Views.FormView,i=new Ele.Views.TextBoxItem({name:"fileName",text:"文件名称",hint:"请输入",value:t.name});i.validateNotEmpty(),a.appendFormData("file",t.id),a.addItem(i),s.add(a);n=new Ele.HLayout("ele_file_form_button_panel"),o=new Ele.Button({text:"重置",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_reset.png",onclick:function(){a.reset(),"function"==typeof l._viewEvent&&l._viewEvent("reset",{})}}),i=new Ele.Button({text:"提交",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_submit.png",onclick:function(){if(a.validate())return null!=l._updateUrl.url&&""!=l._updateUrl.url.trim()?(a.setAction(l._updateUrl.url),a.setMethod(l._updateUrl.method),void a.submitAjax(function(t){var e=JSON.parse(t);1e3==e.resCode||null==l._errorEvent?(l._pages.pullView(),t=l._items[l._groupSelect].ele.value,null!=l._fileListUrl.url&&""!=l._fileListUrl.url.trim()&&l.fileController.loadData(l._fileListUrl.url+"?group="+t)):(e={resCode:e.resCode,resMsg:e.resMsg},l._errorEvent(e))})):void("function"==typeof l._viewEvent&&l._viewEvent("fileUpdate",{file:t.id}))}});return n.add(o,{padding:"0 0 0 176px"}),n.add(i,{padding:"0 0 0 16px"}),s.add(n),h.add(s),e.add(h),e},this._init()}}(),function(){var t=Ele.Views.FormItemView=function(){},i=function(){this.eleType="layout",this.ele,this.view,this.label,this.width=614,this.tip,this.tipText,this._validate,i.prototype.showMessage=function(t){this.tipText.setText(t),this.tip.ele.style.display="block"},i.prototype.clearMessage=function(){this.tipText.setText(""),this.tip.ele.style.display="none"},i.prototype.validateNotEmpty=function(){this._validate.addNotEmpty()},i.prototype.validateLimit=function(t,e){this._validate.addLimit(t,e)},i.prototype.validateReg=function(t,e){this._validate.addReg(t,e)},i.prototype.validateStartWithLetter=function(){this._validate.addStartWithLetter()},i.prototype.validateNoChinese=function(){this._validate.addNoChinese()},i.prototype.validateAllChinese=function(){this._validate.addAllChinese()},i.prototype.validateInjectionKey=function(){this._validate.addInjectionKey()},i.prototype.setHeight=function(t){"number"==typeof t&&34<t&&(this.view.setSize("auto",t+"px"),this.label.ele.style.height=t+"px",this.label.ele.style.lineHeight=t+"px",this.tip.ele.style.paddingTop=(t-34)/2+"px")},i.prototype.initView=function(t,e,i){this.view=new Ele.HLayout("ele_form_item_view"),this.ele=this.view.ele,this._validate=new Ele.Utils.Validate;t="string"==typeof t?t+":":"Label:";this.label=new Ele.Label(t,"ele_form_item_text"),this.tip=new Ele.HLayout("ele_form_item_tip");t=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_error.png","ele_form_item_tip_icon");this.tipText=new Ele.Label("","ele_form_item_tip_text"),this.tip.add(t),this.tip.add(this.tipText,{padding:"0 0 0 8px"}),this.view.add(this.label,{width:"140px",align:"right"}),this.view.add(e,{width:"220px",padding:"0 0 0 20px"}),this.view.add(this.tip,{width:"224px",padding:"0 0 0 10px"}),this.setHeight(i)}},e=Ele.Views.HiddenItem=function(t){this.eleType="layout",this.ele,this.view,this.name,this.hditem,e.prototype.formString=function(){return"string"!=typeof this.name||""==this.name.trim()?null:this.name+"="+this.getValue()},e.prototype.setValue=function(t){this.hditem.setValue(t)},e.prototype.reset=function(){this.setValue("")},e.prototype.getValue=function(){return this.hditem.getValue()},e.prototype._init=function(){this.view=new Ele.HLayout("ele_form_hidden_view"),this.ele=this.view.ele,this.hditem=new Ele.TextBox,this.hditem.ele.type="hidden";void 0!==t&&("string"==typeof t.name&&(this.name=t.name,this.hditem.ele.name=this.name),void 0!==t.value&&this.hditem.setValue(t.value)),this.view.add(this.hditem)},this._init()},s=Ele.Views.DateBoxItem=function(o){i.call(this),this.item,this.name,this.dateBox,s.prototype.setWindowOffset=function(t){this.dateBox.setWindowOffset(t)},s.prototype.validate=function(){var t=this._validate.validate(this.getValue()+"");return t?(this.clearMessage(),this.dateBox.clearErrorStyle()):(this.showMessage(this._validate.error),this.dateBox.showErrorStyle()),t},s.prototype.formString=function(){return this._validate.isEmpty(this.name)?null:this.name+"="+this.getValue()},s.prototype.setPattern=function(t){return this.dateBox.setPattern(t)},s.prototype.setValue=function(t){this.dateBox.setValue(t)},s.prototype.reset=function(){this.clearMessage(),this.dateBox.clearErrorStyle(),this.dateBox.reset()},s.prototype.readOnly=function(t){this.dateBox.setDisable(t)},s.prototype.getValue=function(){return this.dateBox.getValue()},s.prototype._updateValue=function(t){this.hditem.setValue(this.dateBox.getValue())},s.prototype._init=function(){var e=this;this.item=new Ele.Layout;var t="",i={selectChange:function(t){e._updateValue(t)}},s="";void 0!==o&&("string"==typeof o.name&&(this.name=o.name),"string"==typeof o.text&&(t=o.text),"boolean"==typeof o.windowType&&(i.windowType=o.windowType),"boolean"==typeof o.readOnly&&(i.disable=o.readOnly),void 0!==o.value&&(s=o.value)),this.dateBox=new Ele.DateBox(i),""!=s&&this.setValue(s),"string"==typeof this.name&&(this.dateBox.edit.ele.name=this.name),this.item.add(this.dateBox),this.initView(t,this.item)},this._init()},n=Ele.Views.CheckBoxItem=function(o){i.call(this),this.item,this.name,this.hditem,this.checkGroup,this.lines,this.width=202,n.prototype.validate=function(){var t=this._validate.validate(this.getValueString());return t?this.clearMessage():this.showMessage(this._validate.error),t},n.prototype.formString=function(){return"string"!=typeof this.name||""==this.name.trim()?null:this.name+"="+this.getValueString()},n.prototype.setValue=function(t){this.checkGroup.selectByValue(t),this.hditem.setValue(t)},n.prototype.reset=function(){this.checkGroup.clearSelected(),this.hditem.setValue("")},n.prototype.getSelectTextString=function(){var t=this.checkGroup.getSelectedText(),e="";if(0<t.length)for(var i=0;i<t.length;i++)e+=t[i],i<t.length-1&&(e+=",");return e},n.prototype.getValueString=function(){var t,e=this.checkGroup.getSelectedValue(),i="";for(t in e)i+=e[t],t<e.length-1&&(i+=",");return i},n.prototype.setValueString=function(t){if("string"==typeof t&&""!=t.trim()){var e,i=t.split(",");for(e in i)this.setValue(i[e])}},n.prototype.getValues=function(){return this.checkGroup.getSelectedValue()},n.prototype.readOnly=function(t){this.checkGroup.disable(t)},n.prototype._updateValue=function(t){this.hditem.setValue(this.getValueString())},n.prototype._updateView=function(t){if(!(0<this.lines)){var e,i=0,s=!1;for(e in t){var o=parseInt(t[e].height/24);1<o?(this.lines+=o,i=0,s=!1):(s||(this.lines++,s=!0),(i+=t[e].width)<this.width||(i!=this.width?(i=t[e].width,this.lines++):(i=0,s=!1)))}this.lines<1&&(this.lines=1);var n=24*this.lines+10;this.setHeight(n)}},n.prototype._init=function(){this.item=new Ele.Layout("ele_form_checkbox"),this.hditem=new Ele.TextBox,this.hditem.ele.type="hidden";var e=this,t=1,i="",s=!1;void(this.lines=0)!==o&&("string"==typeof o.name&&(this.name=o.name,this.hditem.ele.name=this.name),"number"==typeof o.lines&&(t=parseInt(o.lines),this.lines=t),"string"==typeof o.text&&(i=o.text),"boolean"==typeof o.readOnly&&o.readOnly&&(s=!0),s={onload:function(t){e._updateView(t)},selectChange:function(t){e._updateValue(t)},disable:s,items:o.items},this.checkGroup=new Ele.CheckGroup(s)),this.item.add(this.hditem),this.item.add(this.checkGroup);t=24*t+10;this.initView(i,this.item,t)},this._init()},l=Ele.Views.SelectBoxItem=function(o){i.call(this),this.item,this.name,this.hditem,this.selectBox,l.prototype.setWindowOffset=function(t){this.selectBox.setWindowOffset(t)},l.prototype.setOnDataLoad=function(t){this.selectBox.setOnDataLoad(t)},l.prototype.setOnSelectChange=function(t){this.selectBox.setOnSelectChange(t)},l.prototype.setOnFilterSearch=function(t){this.selectBox.setOnFilterSearch(t)},l.prototype.setFilterData=function(t){this.selectBox.setFilterData(t)},l.prototype.validate=function(){var t=this._validate.validate(this.getValue()+"");return t?(this.clearMessage(),this.selectBox.clearErrorStyle()):(this.showMessage(this._validate.error),this.selectBox.showErrorStyle()),t},l.prototype.itemCount=function(){return this.selectBox.count},l.prototype.addOptionValue=function(t,e){this.selectBox.addOptionValue(t,e)},l.prototype.addOption=function(t){this.selectBox.addOption(t)},l.prototype.formString=function(){return this._validate.isEmpty(this.name)?null:this.name+"="+this.getValue()},l.prototype.loadDataSourcesUrl=function(t,e,i){this.selectBox.loadDataSourcesUrl(t,e,i)},l.prototype.loadFilterDataSourcesUrl=function(t,e,i,s){this.selectBox.loadFilterDataSourcesUrl(t,e,i,s)},l.prototype.setValue=function(t){this.selectBox.setValue(t)},l.prototype.reset=function(){this.clearMessage(),this.selectBox.reset(),this.hditem.setValue("")},l.prototype.readOnly=function(t){this.selectBox.setDisable(t)},l.prototype.getValue=function(){return this.selectBox.getValue()},l.prototype._updateValue=function(t){-1!=t?this.hditem.setValue(this.selectBox.getValue()):this.hditem.setValue("")},l.prototype._init=function(){var e=this;this.item=new Ele.Layout;var t="",i={selectChange:function(t){e._updateValue(t)}};this.hditem=new Ele.TextBox,this.hditem.ele.type="hidden";var s="";void 0!==o&&("string"==typeof o.name&&(this.name=o.name,this.hditem.ele.name=o.name),"string"==typeof o.text&&(t=o.text),"boolean"==typeof o.windowType&&(i.windowType=o.windowType),"boolean"==typeof o.readOnly&&(i.disable=o.readOnly),void 0!==o.value&&(s=o.value),void 0!==o.items&&(i.items=o.items),"function"==typeof o.filterSearch&&(i.filterSearch=o.filterSearch)),this.selectBox=new Ele.SelectBox(i),""!=s&&this.setValue(s),this.item.add(this.hditem),this.item.add(this.selectBox),this.initView(t,this.item)},this._init()},o=Ele.Views.FileItem=function(s){i.call(this),this.item,this.name,this.hditem,this.valueView,this.fileView,this.deleteView,this.value,this._readOnly,o.prototype.validate=function(){var t=this._validate.validate(this.getValue());return t?this.clearMessage():this.showMessage(this._validate.error),t},o.prototype.appendToFormData=function(t){"object"==typeof t&&t instanceof FormData&&(this._validate.isEmpty(this.name)||t.append(this.name,this.getFormData()))},o.prototype.formString=function(){return this._validate.isEmpty(this.name)?null:this.name+"="+this.getValue()},o.prototype.readOnly=function(t){"boolean"==typeof t&&(this._readOnly=t)},o.prototype.setValueUrl=function(t){if("string"==typeof t){var e,i="";if(-1!=t.indexOf(".")&&(i=(e=t.split("."))[e.length-1].toLowerCase()),this.value=t,this.valueView.setHtml(t),this.deleteView.ele.style.display="block","png"==i||"jpg"==i||"jpeg"==i||"gif"==i){var s=new Ele.Img(t,"ele_form_file_icon");return this.fileView.clear(),void this.fileView.add(s)}s=new Ele.Layout("ele_form_file_text");s.setHtml(i),s.setAlign("center"),this.fileView.clear(),this.fileView.add(s)}},o.prototype.reset=function(){this.clearMessage(),this.deleteView.ele.style.display="none",this.valueView.setHtml("请选择文件..."),this.value="",this.fileView.clear();var t=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_file_add.png","ele_form_file_icon");this.fileView.add(t),this.hditem.setValue("")},o.prototype.getValue=function(){return this.value},o.prototype.getFormData=function(){return this.hditem.ele.files[0]},o.prototype.accept=function(t){this.hditem.ele.accept=t},o.prototype.acceptImage=function(){this.accept("image/*")},o.prototype._setValueData=function(t,e,i){if("image"==e.toLowerCase()){var s=new Ele.Img(t,"ele_form_file_icon");return this.fileView.clear(),this.fileView.add(s),void(this.value=t)}s=new Ele.Layout("ele_form_file_text");s.setHtml(i),s.setAlign("center"),this.fileView.clear(),this.fileView.add(s),this.value=t},o.prototype._onDelete=function(){this._readOnly||this.reset()},o.prototype._onChange=function(){this.clearMessage();var t=this.hditem.ele.files[0],e="",i="";""==t.type||-1!=(s=t.type.indexOf("/"))&&(e=t.type.substring(0,s));var s=this.hditem.ele.value;this.valueView.setHtml(s),this.deleteView.ele.style.display="block",-1!=s.indexOf(".")&&(n=s.split("."),i=n[n.length-1]);var o=this,n=new FileReader;n.readAsDataURL(t),n.onload=function(t){o._setValueData(t.target.result,e,i)}},o.prototype._onFile=function(){this._readOnly||this.hditem.ele.click()},o.prototype._init=function(){var t=this;this.item=new Ele.HLayout("ele_form_file"),this.hditem=new Ele.TextBox,this.hditem.ele.type="file",this.hditem.ele.style.display="none",this.hditem.ele.onchange=function(){t._onChange()};var e="";void 0!==s&&("string"==typeof s.name&&(this.name=s.name,this.hditem.ele.name=this.name),"string"==typeof s.text&&(e=s.text),"boolean"==typeof s.readOnly&&(this._readOnly=s.readOnly)),this.item.add(this.hditem),this.valueView=new Ele.Layout("ele_form_file_value"),this.valueView.setHtml("请选择文件..."),this.value="",this.fileView=new Ele.Layout("ele_form_file_view");var i=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_file_add.png","ele_form_file_icon");this.fileView.add(i),this.fileView.ele.onclick=function(){t._onFile()},this.deleteView=new Ele.Layout("ele_form_file_delete_view");i=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_delete.png","ele_form_file_delete_icon");this.deleteView.add(i),this.deleteView.ele.onclick=function(){t._onDelete()},this.item.add(this.valueView),this.item.add(this.fileView),this.item.add(this.deleteView),this.initView(e,this.item,64)},this._init()},h=Ele.Views.RadioBoxItem=function(s){this.eleType="layout",this.ele,this.view,this.label,this.width=564,this.item,this.name,this.hditem,this.radioBox,h.prototype.formString=function(){return"string"!=typeof this.name||""==this.name.trim()?null:this.name+"="+this.getValue()},h.prototype.setValue=function(t){this.radioBox.selectByValue(t),this.hditem.setValue(t)},h.prototype.reset=function(){this.radioBox.select(0),this.hditem.setValue(this.getValue())},h.prototype.getValue=function(){return this.radioBox.getSelectedValue()},h.prototype.readOnly=function(t){this.radioBox.disable(t)},h.prototype._updateValue=function(t){this.hditem.setValue(this.radioBox.getIndexValue(t))},h.prototype._init=function(){this.view=new Ele.HLayout("ele_form_item_view"),this.ele=this.view.ele,this.item=new Ele.Layout("ele_form_radio"),this.hditem=new Ele.TextBox,this.hditem.ele.type="hidden";var e=this,t="",i=!1;void 0!==s&&("string"==typeof s.name&&(this.name=s.name,this.hditem.ele.name=this.name),"string"==typeof s.text&&(t=s.text),"boolean"==typeof s.readOnly&&s.readOnly&&(i=!0),i={selectChange:function(t){e._updateValue(t)},disable:i,items:s.items},this.radioBox=new Ele.RadioBox(i),this._updateValue(0)),this.item.add(this.hditem),this.item.add(this.radioBox),t+=":",this.label=new Ele.Label(t,"ele_form_item_text"),this.view.add(this.label,{width:"140px",align:"right"}),this.view.add(this.item,{width:"452px",padding:"0 0 0 12px"})},this._init()},r=Ele.Views.TextAreaItem=function(e){i.call(this),this.item,this.name,r.prototype.validate=function(){var t=this._validate.validate(this.item.getValue());return t?(this.clearMessage(),this.item.clearErrorStyle()):(this.showMessage(this._validate.error),this.item.showErrorStyle()),t},r.prototype.formString=function(){return this._validate.isEmpty(this.name)?null:this.name+"="+this.getValue()},r.prototype.setValue=function(t){this.item.setValue(t)},r.prototype.reset=function(){this.clearMessage(),this.item.clearErrorStyle(),this.setValue("")},r.prototype.getValue=function(){return this.item.getValue()},r.prototype.readOnly=function(t){this.item.readOnly(t)},r.prototype._init=function(){this.item=new Ele.TextArea;var t="";void 0!==e&&("string"==typeof e.name&&(this.name=e.name,this.item.ele.name=e.name),"string"==typeof e.text&&(t=e.text),"string"==typeof e.hint&&this.item.setHint(e.hint),"boolean"==typeof e.readOnly&&this.item.readOnly(e.readOnly),void 0!==e.value&&this.item.setValue(e.value)),this.initView(t,this.item,48)},this._init()},a=Ele.Views.TextBoxItem=function(e){i.call(this),this.item,this.name,a.prototype.validate=function(){var t=this._validate.validate(this.item.getValue());return t?(this.clearMessage(),this.item.clearErrorStyle()):(this.showMessage(this._validate.error),this.item.showErrorStyle()),t},a.prototype.formString=function(){return this._validate.isEmpty(this.name)?null:this.name+"="+this.getValue()},a.prototype.setValue=function(t){this.item.setValue(t)},a.prototype.setPassword=function(t){this.item.ele.type="boolean"==typeof t&&t?"password":"text"},a.prototype.reset=function(){this.clearMessage(),this.item.clearErrorStyle(),this.setValue("")},a.prototype.getValue=function(){return this.item.getValue()},a.prototype.readOnly=function(t){this.item.readOnly(t)},a.prototype._init=function(){this.item=new Ele.TextBox;var t="";void 0!==e&&("string"==typeof e.name&&(this.name=e.name,this.item.ele.name=e.name),"string"==typeof e.text&&(t=e.text),"boolean"==typeof e.password&&e.password&&(this.item.ele.type="password"),"string"==typeof e.hint&&this.item.setHint(e.hint),"boolean"==typeof e.readOnly&&this.item.readOnly(e.readOnly),void 0!==e.value&&this.item.setValue(e.value)),this.initView(t,this.item)},this._init()},d=function(){};d.prototype=t.prototype,d.constructor=i,((d=new d).constructor=i).prototype=d,(d=function(){}).prototype=i.prototype,d.constructor=a,((d=new d).constructor=a).prototype=d,(d=function(){}).prototype=i.prototype,d.constructor=r,((d=new d).constructor=r).prototype=d,(d=function(){}).prototype=t.prototype,d.constructor=h,((d=new d).constructor=h).prototype=d,(d=function(){}).prototype=i.prototype,d.constructor=o,((d=new d).constructor=o).prototype=d,(d=function(){}).prototype=i.prototype,d.constructor=l,((d=new d).constructor=l).prototype=d,(d=function(){}).prototype=i.prototype,d.constructor=n,((d=new d).constructor=n).prototype=d,(d=function(){}).prototype=i.prototype,d.constructor=s,((d=new d).constructor=s).prototype=d,(d=function(){}).prototype=t.prototype,d.constructor=e,((d=new d).constructor=e).prototype=d}(),function(){var e=Ele.Views.FormView=function(t){this.eleType="layout",this.ele,this.view,this.form,this.appendData,this.items,this.url,this.method,e.prototype.validate=function(){var t,e=!0;for(t in this.items)if("function"==typeof this.items[t].validate&&!this.items[t].validate()){e=!1;break}return e},e.prototype.reset=function(){for(var t in this.items)"function"==typeof this.items[t].reset&&this.items[t].reset()},e.prototype.formData=function(){var t,e,i="",s=!0;for(t in this.appendData)s?s=!1:i+="&",i+=this.appendData[t];for(e in this.items)"function"==typeof this.items[e].formString&&(s?s=!1:i+="&",i+=this.items[e].formString());return i},e.prototype.submit=function(){this.form.ele.submit()},e.prototype.submitFormAjax=function(t){var e,i,s=new FormData;for(e in this.appendData){var o=this.appendData[e].split("=");s.append(o[0],o[1])}for(i in this.items)"function"!=typeof this.items[i].appendToFormData?"function"==typeof this.items[i].formString&&(o=this.items[i].formString().split("="),s.append(o[0],o[1])):this.items[i].appendToFormData(s);var n=new Ele.Utils.Ajax;n.setContentType(null);var l=this.url;"get"==this.method.toLowerCase()?n.setMethod("GET"):n.setMethod(this.method),n.setParameter(s),n.request(l,t)},e.prototype.submitAjax=function(t){var e=new Ele.Utils.Ajax,i=this.url;"get"==this.method.toLowerCase()?(e.setMethod("GET"),i=this.url+"?"+this.formData()):(e.setMethod(this.method),e.setParameter(this.formData())),e.request(i,t)},e.prototype.setMethod=function(t){this.form.ele.method=t,this.method=t},e.prototype.setEnctype=function(t){this.form.ele.enctype=t},e.prototype.setEnctypeMfd=function(){this.setEnctype("multipart/form-data")},e.prototype.addItem=function(t){t instanceof Ele.Views.FormItemView&&(this.form.add(t),this.items.push(t),t instanceof Ele.Views.HiddenItem||((t=new Ele.Layout("ele_form_view_divider_panel")).add(new Ele.Layout("ele_form_view_divider")),this.form.add(t)))},e.prototype.appendFormData=function(t,e){var i;"string"==typeof t&&void 0!==e&&""!=t.trim()&&((i=new Ele.TextBox).ele.type="hidden",i.ele.name=t,i.ele.value=e,this.form.add(i),this.appendData.push(t+"="+e))},e.prototype.setAction=function(t){"string"==typeof t&&(this.url=t,this.form.setAction(t))},e.prototype._init=function(){this.view=new Ele.Layout("ele_form_view"),this.ele=this.view.ele,this.form=new Ele.Form,this.form.ele.method="POST",this.method="POST",this.setAction(t),this.view.add(this.form),this.items=[],this.appendData=[]},this._init()}}(),function(){var t=Ele.Views.GridView=function(o){this.eleType="layout",this.ele,this.view,this.toolBar,this.content,this.pageBar,this.listGrid,this.gridData=[],this.menuView,this.filterView,this.search,this.setView,this.windowType,this.masking,this.position,this.offset,this.args,this.setArgs,this.radio,this.etRowHeight,this.cboxArray=[],this.rwidthArray=[],this.lbMsg,this.pageBarView,t.prototype.addRow=function(t){this.gridData.push(t),this.listGrid.addRow(t)},t.prototype.addToolBarMenu=function(t){this.menuView.add(t,{padding:"0 0 0 16px"})},t.prototype.setWindowOffset=function(t){this.windowType&&(this.offset=t)},t.prototype.setOnSearch=function(t){this.search.setOnSearch(t)},t.prototype.setDataFormat=function(t){this.pageBarView.setFormat(t)},t.prototype.setParameter=function(t){this.pageBarView.setParameter(t)},t.prototype.setAddressSufix=function(t){this.pageBarView.setAddressSufix(t)},t.prototype.setRest=function(t){this.pageBarView.setRest(t)},t.prototype.jumpPage=function(t){this.pageBarView.jumpPage(t)},t.prototype.getSelected=function(){return this.listGrid.getSelect()},t.prototype.clear=function(){this.listGrid.clear()},t.prototype.selectAll=function(){this.listGrid.selectAll()},t.prototype.unSelectAll=function(){this.listGrid.unSelectAll()},t.prototype.loadDataSources=function(t){if(Ele._isArray(t)){this.listGrid.clear(),this.gridData=[];for(var e=0;e<t.length;e++)this.addRow(t[e])}},t.prototype._onDataResponse=function(t){this.loadDataSources(t)},t.prototype.loadDataSourcesUrl=function(t,e,i,s){var o=this,n=new Ele.Controllers.BaseController({loadHandler:function(t){o._onDataResponse(t)},errorHandler:function(t){"function"==typeof i&&i(t)}});"function"==typeof s&&n.setFormat(s),void 0!==e&&""!=e&&null!=e?n.setMethod(e):n.setMethod("GET"),n.loadData(t)},t.prototype.loadDataSourcesPageUrl=function(t,e,i,s){var o=this;this.pageBarView.loadData(t,function(t){o._onDataResponse(t)},e,i,s)},t.prototype._onReset=function(){for(var t in this.setArgs=Ele._cloneObject(this.args),this.content.remove(this.listGrid),this.listGrid=new Ele.ListGrid(this.setArgs),this.content.add(this.listGrid),this.gridData)this.listGrid.addRow(this.gridData[t])},t.prototype._onSet=function(){this._showTip("");for(var t,e=Ele._cloneObject(this.setArgs.fields),i=[],s=[],o=0,n=0;n<this.cboxArray.length;n++)this.cboxArray[n].isChecked()?(e[n].hidden=!1,""!=(t=this.rwidthArray[n].getValue())&&(o+=t=Number.parseInt(t),1==this.radio.getSelectedValue()?e[n].fieldWidth=t+"%":e[n].fieldWidth=t,s.push(n)),i.push(e[n])):(e[n].hidden=!0,this.rwidthArray[n].setValue(""),this.rwidthArray[n].setHint(""),this.rwidthArray[n].data="");if(1==this.radio.getSelectedValue()&&100<o)this._showTip("展示字段百分比总和大于100");else{this.radio.data=this.radio.getSelectedValue();for(var l=0;l<s.length;l++)this.rwidthArray[s[l]].data=this.rwidthArray[s[l]].getValue();this.setArgs.fields=e,this.setArgs.itemHeightPx=Number.parseInt(this.etRowHeight.getValue());var h,r=Ele._cloneObject(this.setArgs);for(h in r.fields=i,this._hideMenuView(),this.content.remove(this.listGrid),this.listGrid=new Ele.ListGrid(r),this.content.add(this.listGrid),this.gridData)this.listGrid.addRow(this.gridData[h])}},t.prototype._showTip=function(t){""!=t?this.lbMsg.setText("Tip："+t):this.lbMsg.setText("")},t.prototype._hideMenuView=function(){this.windowType||(this.setView.ele.style.display="none"),this.masking.hideMasking()},t.prototype._showMenuView=function(){if(this.windowType){var t=this.ele.offsetLeft+this.ele.offsetParent.offsetLeft,e=this.ele.offsetTop+this.ele.offsetParent.offsetTop;return this.position.positionType="bottom-left",this.position.top=e+this.menuView.ele.offsetHeight,this.position.left=t,null!=this.offset&&this.offset instanceof Ele.Utils.Size&&this.position.setOffset(this.offset),this.masking.setContent(this.setView,this.position),this.masking.showMasking(),void this._initSetValue()}this.masking.setContentNone(),this.masking.showMasking();var i=this;this.masking.setHiddenHandler(function(){i._hideMenuView()}),this.setView.ele.style.display="block",this._initSetValue()},t.prototype._initSetValue=function(){if(this._showTip(""),this.etRowHeight.ele.value=this.listGrid.itemHeight,this.radio.selectByValue(this.radio.data),Ele._isArray(this.setArgs.fields)){for(var t=[],e=0;e<this.setArgs.fields.length;e++)this.setArgs.fields[e].hidden?(this.cboxArray[e].unChecked(),this.rwidthArray[e].setValue("")):(this.cboxArray[e].checked(),t.push(this.rwidthArray[e]));if(0<t.length)for(var i=100/t.length,s=0;s<t.length;s++)""==t[s].data?(t[s].setHint(i),t[s].setValue("")):(t[s].setHint(""),t[s].setValue(t[s].data))}},t.prototype._initSetView=function(){this.setView.clear();var t=this,e=new Ele.HLayout("ele_grid_set_view_title_item"),i=new Ele.ICheckBox;i.ele.style.marginTop="8px";var s=new Ele.Label("全选","");e.add(i),e.add(s,{padding:"0 0 0 8px"});s=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_col_width.png","ele_grid_set_view_title_icon");e.add(s,{padding:"0 0 0 24px"}),this.radio=new Ele.RadioBox({items:[{text:"%",value:1},{text:"px",value:2}]}),this.radio.data=1,e.add(this.radio,{padding:"4px 0 0 0"});s=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_row_height.png","ele_grid_set_view_title_icon");this.etRowHeight=new Ele.TextBox({style:"ele_grid_set_row_height_style"}),this.etRowHeight.ele.type="number",e.add(this.etRowHeight,{float:"right"}),e.add(s,{padding:"0 8px 0 0",float:"right"}),this.setView.add(e);var o=new Ele.Layout("ele_grid_set_view_item_divider");if(this.setView.add(o),Ele._isArray(this.setArgs.fields))for(var n=0;n<this.setArgs.fields.length;n++){var l=new Ele.HLayout("ele_grid_set_view_item"),h=new Ele.ICheckBox;h.ele.style.marginTop="8px",h.data=this.setArgs.fields[n];var r=new Ele.Label(this.setArgs.fields[n].textName),a=new Ele.TextBox({style:"ele_grid_set_row_height_style"});a.ele.type="number",a.data="",l.add(h),l.add(r,{padding:"0 0 0 8px"}),l.add(a,{float:"right"});r=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_col_width.png","ele_grid_set_view_title_icon");l.add(r,{padding:"0 8px 0 0",float:"right"}),this.setView.add(l);o=new Ele.Layout("ele_grid_set_view_item_divider");this.setView.add(o),this.cboxArray.push(h),this.rwidthArray.push(a)}s=new Ele.HLayout("ele_grid_set_view_bottom_item"),e=new Ele.Button({text:"确定",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_sure.png",onclick:function(){t._onSet()}});this.lbMsg=new Ele.Label("","ele_grid_set_view_bottom_hint"),s.add(this.lbMsg),s.add(e,{float:"right"}),this.setView.add(s)},t.prototype._init=function(){this.view=new Ele.Layout("ele_grid_view"),this.ele=this.view.ele,this.masking=Ele.masking,this.args=o,this.setArgs=Ele._cloneObject(o);var t=this,e=!0;"boolean"==typeof this.args.barMenu&&(e=this.args.barMenu),"boolean"==typeof o.windowType&&o.windowType&&(this.windowType=!0),this.windowType?(this.setView=new Ele.HLayout("ele_grid_set_view_wt"),this.position=new Ele.Utils.Position):(this.setView=new Ele.HLayout("ele_grid_set_view"),this.setView.ele.style.zIndex=this.masking.maxZIndex+1,this.view.add(this.setView)),this.toolBar=new Ele.HLayout("ele_grid_tool_bar"),this.menuView=new Ele.HLayout("ele_grid_menu_view"),e&&(e=new Ele.Button({text:"",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_refresh.png",onclick:function(){t._onReset()}}),i=new Ele.Button({text:"",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_set.png",onclick:function(){t._showMenuView()}}),s=new Ele.Layout("ele_grid_tool_divider"),this.menuView.add(e,{padding:"0px 0px 0px 16px"}),this.menuView.add(i,{padding:"0px 0px 0px 16px"}),this.menuView.add(s,{padding:"0px 0px 0px 16px"})),this.filterView=new Ele.HLayout("ele_grid_filter_view"),this.search=new Ele.SearchBox({hint:"搜索关键字"}),this.filterView.add(this.search,{padding:"10px 16px 0px 0px"}),this.toolBar.add(this.menuView),this.toolBar.add(this.filterView,{float:"right"}),this.content=new Ele.Layout("ele_grid_view_content"),this.listGrid=new Ele.ListGrid(this.args),this.content.add(this.listGrid),this.pageBar=new Ele.Layout("ele_grid_page_bar"),this.pageBarView=new Ele.Views.PageBarView,this.pageBar.add(this.pageBarView);var i=0,s=0;this.args.toolBar&&(this.view.add(this.toolBar),i+=48),this.args.pageBar&&(this.view.add(this.pageBar),s+=48),this.view.add(this.content),this.content.ele.style.padding=i+"px 0 "+s+"px 0",this._initSetView()},this._init()}}(),function(){var t=Ele.Views.ListSelectorView=function(){this.eleType="layout",this.ele,this.view,this.width=740,this.height=460,this.leftView,this.rightView,this.leftEmpty,this.rightEmpty,this.leftItems,this.rightItems,this.leftSelectIndex,this.rightSelectIndex,this.controller,this._onErrorResponse=null,this._onDataLoad=null,this._dataFormat=null,this._onUpdate=null,t.prototype.setDataFormat=function(t){"function"==typeof t&&(this._dataFormat=t)},t.prototype.setOnUpdate=function(t){"function"==typeof t&&(this._onUpdate=t)},t.prototype.setOnDataLoad=function(t){"function"==typeof t&&(this._onDataLoad=t)},t.prototype.getSelectedValues=function(){var t,e=[];for(t in this.rightItems)e.push(this.rightItems[t].value);return e},t.prototype.getSelectedStringValues=function(){var t,e="";for(t in this.rightItems)e+=this.rightItems[t].value+",";return""!=e&&(e=e.substr(0,e.length-1)),e},t.prototype.setValues=function(t,e){if(!(this.leftItems.length<1||t.length<1))for(var i in t){var s,o=t[i];if("function"==typeof e&&void 0===(o=e(o)))break;for(s in this.leftItems)if(this.leftItems[s].value===o){this.leftSelectIndex=s,this.addMove();break}}},t.prototype.setStringValues=function(t,e){if(!(this.leftItems.length<1)){var i,s=t.split(",");for(i in s){var o,n=s[i];if("function"==typeof e&&void 0===(n=e(n)))break;for(o in this.leftItems)if(this.leftItems[o].value===n){this.leftSelectIndex=o,this.addMove();break}}}},t.prototype.clear=function(){this.leftView.clear(),this.rightView.clear(),this.leftItems=[],this.rightItems=[],this.leftSelectIndex=-1,this.rightSelectIndex=-1,this.leftView.add(this.leftEmpty),this.rightView.add(this.rightEmpty)},t.prototype.loadDataSourcesUrl=function(t,e,i){"function"==typeof i&&(this._onErrorResponse=i),void 0!==e&&""!=e&&null!=e?this.controller.setMethod(e):this.controller.setMethod("GET"),this.controller.loadData(t)},t.prototype.loadDataSources=function(t){this.clear();if(0<t.length)for(var e=0;e<t.length;e++)this.addValue(t[e]);null!=this._onDataLoad&&this._onDataLoad()},t.prototype.addMove=function(){if(-1!=this.leftSelectIndex){var t=this.leftItems[this.leftSelectIndex];this.addRightItem(t.text,t.value,t.data),this.leftView.remove(t.view),this.leftItems.splice(this.leftSelectIndex,1);for(var e=this.leftSelectIndex;e<this.leftItems.length;e++){var i="ele_list_selector_item ";i+=(this.leftItems[e].view.ele.index=e)%2==0?"ele_list_selector_item_single":"ele_list_selector_item_double",this.leftItems[e].view.ele.className=i}0==this.leftItems.length&&this.leftView.add(this.leftEmpty),this.leftSelectIndex=-1,null!=this._onUpdate&&this._onUpdate({eventType:"addMove",data:this.rightItems[this.rightItems.length-1]})}},t.prototype.subMove=function(){if(-1!=this.rightSelectIndex){var t=this.rightItems[this.rightSelectIndex];this.addLeftItem(t.text,t.value,t.data),this.rightView.remove(t.view),this.rightItems.splice(this.rightSelectIndex,1);for(var e=this.rightSelectIndex;e<this.rightItems.length;e++){var i="ele_list_selector_item ";i+=(this.rightItems[e].view.ele.index=e)%2==0?"ele_list_selector_item_single":"ele_list_selector_item_double",this.rightItems[e].view.ele.className=i}0==this.rightItems.length&&this.rightView.add(this.rightEmpty),this.rightSelectIndex=-1,null!=this._onUpdate&&this._onUpdate({eventType:"subMove",data:this.leftItems[this.leftItems.length-1]})}},t.prototype.addValue=function(t){null!=this._dataFormat&&this._dataFormat(t),this.addLeftItem(t.text,t.value,t.data)},t.prototype.addLeftItem=function(t,e,i){var s,o,n;void 0!==t&&void 0!==e&&(0==(o=(s=this).leftItems.length)&&this.leftView.remove(this.leftEmpty),n="ele_list_selector_item ",n+=o%2==0?"ele_list_selector_item_single":"ele_list_selector_item_double",(n=new Ele.Layout(n)).setHtml(t),this.leftView.add(n),i={view:n,text:t,value:e,data:i},n.ele.index=o,n.ele.onclick=function(){s._onLeftItemSelected(this.index)},this.leftItems.push(i))},t.prototype.addRightItem=function(t,e,i){var s,o,n;void 0!==t&&void 0!==e&&(0<(o=(s=this).rightItems.length)?(n=new Ele.Layout("ele_list_selector_item_divider"),this.rightView.add(n)):this.rightView.remove(this.rightEmpty),n="ele_list_selector_item ",n+=o%2==0?"ele_list_selector_item_single":"ele_list_selector_item_double",(n=new Ele.Layout(n)).setHtml(t),this.rightView.add(n),i={view:n,text:t,value:e,data:i},n.ele.index=o,n.ele.onclick=function(){s._onRightItemSelected(this.index)},this.rightItems.push(i))},t.prototype.selectLeftItem=function(t){var e;t<0||t>=this.leftItems.length||this.leftSelectIndex!=t&&(this.leftItems[t].view.ele.className="ele_list_selector_item ele_list_selector_item_select",-1!=this.leftSelectIndex&&(e="ele_list_selector_item ",this.leftSelectIndex%2==0?e+="ele_list_selector_item_single":e+="ele_list_selector_item_double",this.leftItems[this.leftSelectIndex].view.ele.className=e),this.leftSelectIndex=t)},t.prototype.selectRightItem=function(t){var e;t<0||t>=this.rightItems.length||this.rightSelectIndex!=t&&(this.rightItems[t].view.ele.className="ele_list_selector_item ele_list_selector_item_select",-1!=this.rightSelectIndex&&(e="ele_list_selector_item ",this.rightSelectIndex%2==0?e+="ele_list_selector_item_single":e+="ele_list_selector_item_double",this.rightItems[this.rightSelectIndex].view.ele.className=e),this.rightSelectIndex=t)},t.prototype._onLeftItemSelected=function(t){this.selectLeftItem(t)},t.prototype._onRightItemSelected=function(t){this.selectRightItem(t)},t.prototype._onDataResponse=function(t){this.loadDataSources(t)},t.prototype._init=function(){var e=this;this.view=new Ele.Layout("ele_list_selector_view"),this.ele=this.view.ele,this.leftItems=[],this.rightItems=[],this.leftSelectIndex=-1,this.rightSelectIndex=-1;var t=new Ele.Layout("ele_list_selector_panel");this.leftView=new Ele.Layout("ele_list_selector_item_view ele_scrollbar");var i=new Ele.Layout("ele_list_selector_bar_view");this.rightView=new Ele.Layout("ele_list_selector_item_view ele_scrollbar");var s=new Ele.Layout("ele_cl");this.leftEmpty=new Ele.Layout("ele_list_selector_empty"),this.rightEmpty=new Ele.Layout("ele_list_selector_empty"),this.leftEmpty.setHtml("暂无数据"),this.rightEmpty.setHtml("暂无数据"),this.leftView.add(this.leftEmpty),this.rightView.add(this.rightEmpty);var o=new Ele.Layout("ele_list_selector_bar_panel");o.setAlign("center"),i.add(o);var n=new Ele.Button({text:"添加",iconRight:!0,icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_2_right.png",onclick:function(){e.addMove()}}),l=new Ele.Button({text:"移除",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/96/icon_2_left.png",onclick:function(){e.subMove()}});o.add(n),o.add(new Ele.Layout("ele_list_selector_bar_divider")),o.add(l),t.add(this.leftView),t.add(i),t.add(this.rightView),t.add(s),this.view.add(t),this.controller=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse(t)},errorHandler:function(t){null!=e._onErrorResponse&&e._onErrorResponse(t)}})},this._init()}}(),function(){var t=Ele.Views.Masking=function(){this.eleType="layout",this.ele,this.view,this.bg,this.content,this.maxZIndex=1002,this._hiddenEvent=null,t.prototype._init=function(){this.view=new Ele.Layout("ele_masking"),this.ele=this.view.ele,this.bg=new Ele.Layout("ele_masking_bg"),this.content=new Ele.Layout("ele_masking_content");var e=this;this.bg.ele.onclick=function(t){e.hideMasking(),null!=e._hiddenEvent&&"function"==typeof e._hiddenEvent&&e._hiddenEvent()},this.view.add(this.bg),this.view.add(this.content)},t.prototype.setHiddenHandler=function(t){this._hiddenEvent=t},t.prototype.setContent=function(t,e){e instanceof Ele.Utils.Position&&("top-left"==e.positionType&&(t.ele.style.left=e.left+"px",t.ele.style.bottom=e.bottom+"px"),"top-right"==e.positionType&&(t.ele.style.right=e.right+"px",t.ele.style.bottom=e.bottom+"px"),"bottom-left"==e.positionType&&(t.ele.style.left=e.left+"px",t.ele.style.top=e.top+"px"),"top-left"==e.positionType&&(t.ele.style.right=e.right+"px",t.ele.style.top=e.top+"px")),this.content.clear(),this.content.add(t)},t.prototype.setContentNone=function(){this.content.clear()},t.prototype.showMasking=function(){this.ele.style.display="block"},t.prototype.hideMasking=function(){this.ele.style.display="none"},this._init()}}(),function(){var t=Ele.Views.PageBarView=function(i){this.eleType="layout",this.ele,this.view,this.pageItem,this.lbInfo,this.etJump,this.pageController,this._onDataResponse=null,this._onErrorResponse=null,t.prototype.loadData=function(t,e,i,s,o){"function"==typeof e&&(this._onDataResponse=e),"function"==typeof s&&(this._onErrorResponse=s),"number"==typeof o&&this.setPageSize(o),void 0!==i&&""!=i&&null!=i&&this.pageController.setMethod(i),this.pageController.loadData(t)},t.prototype.setParameter=function(t){this.pageController.setParameter(t)},t.prototype.setAddressSufix=function(t){this.pageController.setAddressSufix(t)},t.prototype.setRest=function(t){this.pageController.setRest(t)},t.prototype.reload=function(){this.pageController.reload()},t.prototype.setPageSize=function(t){this.pageController.pageSize=t},t.prototype.getPageSize=function(){return this.pageController.pageSize},t.prototype.jumpPage=function(t){this.pageController.jumpPage(t)},t.prototype.previousPage=function(){this.pageController.previousPage()},t.prototype.nextPage=function(){this.pageController.nextPage()},t.prototype.setFormat=function(t){this.pageController.setFormat(t)},t.prototype._setMessage=function(t,e){this.lbInfo.setText("共"+t+"页 总计"+e+"条数据")},t.prototype._onPageSelected=function(t){this.jumpPage(t)},t.prototype._onSubmitJump=function(){var t=this.etJump.getValue();""!=t&&(t=Number.parseInt(t),this.jumpPage(t))},t.prototype._updateMessage=function(){this.pageItem.clear();var t=this.pageController.totalPage,e=this.pageController.page;5<t&&(t=5),e+2>this.pageController.totalPage?e=this.pageController.totalPage-4:e-=2,e<1&&(e=1);for(var i=0;i<t;i++){var s=e+i,o=!1;s==this.pageController.page&&(o=!0),this.pageItem.add(this._fillItemView(s,o),{padding:"0 0 0 16px"})}this._setMessage(this.pageController.totalPage,this.pageController.rows)},t.prototype._fillItemView=function(t,e){var i="ele_page_bar_item";e&&(i+=" ele_page_bar_item_selected");var s=this,i=new Ele.Layout(i);return i.setAlign("center"),i.setHtml(t),i.ele.onclick=function(){s._onPageSelected(t)},i},t.prototype._init=function(){this.view=new Ele.HLayout("ele_page_bar"),this.ele=this.view.ele;var e=this;this.pageController=new Ele.Controllers.PageController({loadHandler:function(t){e._updateMessage(),null!=e._onDataResponse&&e._onDataResponse(t)},errorHandler:function(t){null!=e._onErrorResponse&&e._onErrorResponse(t)},pageSize:i});var t=new Ele.Button({text:"上一页",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_previous.png",onclick:function(){e.previousPage()}});this.view.add(t),this.pageItem=new Ele.HLayout,this.view.add(this.pageItem);t=new Ele.Button({text:"下一页",icon:Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_next.png",iconRight:!0,onclick:function(){e.nextPage()}});this.view.add(t,{padding:"0 0 0 16px"}),this.lbInfo=new Ele.Label,this._setMessage(1,0),this.view.add(this.lbInfo,{padding:"0 0 0 16px"});t=new Ele.Button({text:"确认",onclick:function(){e._onSubmitJump()}});this.view.add(t,{float:"right"}),this.etJump=new Ele.TextBox({style:"ele_page_bar_jump_style"}),this.etJump.ele.type="number",this.view.add(this.etJump,{float:"right",padding:"0 8px 0 0"});t=new Ele.Label("跳转至：");this.view.add(t,{float:"right",padding:"0 8px 0 0"})},this._init()}}(),function(){var t=Ele.Views.PageControllerView=function(){this.eleType="layout",this.ele,this.view,this.pages,t.prototype.pushView=function(t,e){var i,s,o=new Ele.Layout("ele_page_controller_panel");void 0!==e&&(o.ele.background=e),0<this.pages.length&&(o.ele.style.position="absolute",o.ele.style.top="0px",o.ele.style.left="100%",o.ele.style.zIndex=1,o.ele.style.display="none"),o.add(t),this.view.add(o),0<this.pages.length&&(i=this.pages[this.pages.length-1],s=100,o.ele.style.display="block",new Ele.Utils.Timer(function(){return s<=0?(i.ele.style.display="none",!(o.ele.style.position="static")):(s-=10,o.ele.style.left=s+"%",!0)}).execute()),this.pages.push(o)},t.prototype.pullView=function(){var t,e,i,s;this.pages.length<2||0<this.pages.length&&(t=this.pages[this.pages.length-2],e=this.pages[this.pages.length-1],i=0,e.ele.style.position="absolute",e.ele.style.top="0px",e.ele.style.left="0%",e.ele.style.zIndex=1,t.ele.style.display="block",s=this,new Ele.Utils.Timer(function(){return 100<=i?(e.ele.style.display="none",s.view.remove(e),s.pages.splice(s.pages.length-1,1),!1):(i+=10,e.ele.style.left=i+"%",!0)}).execute())},t.prototype._init=function(){this.view=new Ele.Layout("ele_page_controller_view"),this.ele=this.view.ele,this.pages=[]},this._init()}}(),function(){var e=Ele.Views.PopView=function(t){this.eleType="layout",this.ele,this.bgView,this.view,this.width=808,"number"==typeof t&&(this.width=t+8),this.close,this.contentView,e.prototype.init=function(){var t=this;this.bgView=new Ele.Layout("ele_popview_bg_view"),this.view=new Ele.Layout("ele_popview_view"),this.ele=this.view.ele,this.view.setAlign("center");var e=new Ele.HLayout("ele_popview_panel");e.setSize(this.width+162+"px","100%"),this.contentView=new Ele.Layout("ele_popview_content_view ele_scrollbar"),this.contentView.setWidth(this.width+"px"),e.add(this.contentView,{padding:"0 0 0 72px"}),this.close=new Ele.Layout("ele_popview_close_view");var i=new Ele.Img(Ele._pathPrefix+"ele/"+Ele._skin+"/assets/big-close.png","ele_popview_close_img");this.close.add(i),this.close.ele.onclick=function(){t.hide()},e.add(this.close,{padding:"16px 0 0 16px"}),this.view.add(e),Ele.rootView.add(this.bgView),Ele.rootView.add(this.view)},e.prototype.show=function(){null!=this.bgView&&(this.bgView.ele.style.display="block"),null!=this.view&&(this.view.ele.style.display="block")},e.prototype.addView=function(t){this.contentView.add(t)},e.prototype.clear=function(){this.contentView.clear()},e.prototype.hide=function(){null!=this.bgView&&(this.bgView.ele.style.display="none"),null!=this.view&&(this.view.ele.style.display="none")},this.init()}}(),function(){var t=Ele.Views.StepView=function(o){this.eleType="layout",this.ele,this.view,this.step,this._triangles,this._items,t.prototype.setStep=function(t){"number"==typeof t&&(t<0||t>this._items.length||t!=this.step&&(this._triangles[this.step-1].setBlur(),this._items[this.step-1].ele.className="ele_step_item",this._items[t-1].ele.className="ele_step_item ele_step_yet",t<this._items.length&&this._triangles[t-1].setFocus(),this.step=t))},t.prototype._init=function(){if(this.step=1,this._triangles=[],this._items=[],this.view=new Ele.Layout("ele_step_view"),this.ele=this.view.ele,Ele._isArray(o))for(var t,e,i=100/o.length+"%",s=0;s<o.length;s++)"string"==typeof o[s]&&(t=0==s?"ele_step_item ele_step_yet":"ele_step_item",t=new Ele.Layout(t),0<s&&(e=new n,1<s&&e.setBlur(),t.add(e),this._triangles.push(e)),t.setWidth(i),e=new Ele.Label(o[s],""),t.add(e),this._items.push(t),this.view.add(t))},this._init()},n=function(){this.eleType="layout",this.ele,this.view,this.triangle,n.prototype.setFocus=function(){this.triangle.ele.className="triangle-1"},n.prototype.setBlur=function(){this.triangle.ele.className="triangle-2"},n.prototype._init=function(){this.view=new Ele.Layout("triangle"),this.ele=this.view.ele;var t=new Ele.Layout("triangle-bg"),e=new Ele.Layout("triangle-bg2");this.triangle=new Ele.Layout("triangle-1"),this.view.add(t),this.view.add(e),this.view.add(this.triangle)},this._init()}}(),function(){var t=Ele.Views.SwitchView=function(){this.eleType="layout",this.ele,this.view,this.count=0,this.pages=[],this.bar,this.barItems=[],this.selectedIndex=-1,this._autoPlay=!1,t.prototype.play=function(){var t=this.selectedIndex+1;t==this.count&&(t=0),this.selectIndex(t)},t.prototype.autoPlay=function(t){"number"!=typeof t&&(t=3e3),this._autoPlay=!0;var e=this,i=new Ele.Utils.Timer(function(){return!!e._autoPlay&&(e.play(),!0)},t);setTimeout(function(){i.execute()},t)},t.prototype.autoStop=function(){this._autoPlay=!1},t.prototype.addPage=function(t,e){this.count++;var i=new Ele.Layout("ele_switch_page_panel");void 0!==e&&(i.ele.background=e),1<this.count&&(i.ele.style.display="none"),i.add(t),this.view.add(i),this.pages.push(i),this._addBar()},t.prototype.selectIndex=function(t){var e,i,s,o;this.selectedIndex<0||t!=this.selectedIndex&&(e=this.pages[t],i=this.pages[this.selectedIndex],s=100,e.ele.style.position="absolute",e.ele.style.top="0px",e.ele.style.left="100%",e.ele.style.zIndex=1,e.ele.style.display="block",o=this,new Ele.Utils.Timer(function(){return s<=0?(i.ele.style.display="none",e.ele.style.position="static",o.barItems[o.selectedIndex].ele.className="ele_switch_bar_item",o.barItems[t].ele.className="ele_switch_bar_item ele_switch_bar_item_selected",o.selectedIndex=t,!1):(s-=10,e.ele.style.left=s+"%",!0)}).execute())},t.prototype._onBarSelected=function(t){this.selectIndex(t)},t.prototype._addBar=function(){var t,e=new Ele.Layout("ele_switch_bar_item"),i=this.count,s=this;e.ele.onclick=function(){s._onBarSelected(i-1)},1==i?(this.selectedIndex=0,e.ele.className="ele_switch_bar_item ele_switch_bar_item_selected",this.bar.add(e,{width:"12px"})):(t=36,t+=20*(i-1),this.bar.setSize(t+"px","20px"),this.bar.add(e,{width:"20px",padding:"0 0 0 8px"})),this.barItems.push(e)},t.prototype._init=function(){this.view=new Ele.Layout("ele_switch_view"),this.ele=this.view.ele;var t=new Ele.Layout("ele_switch_bar_panel");t.setAlign("center"),this.bar=new Ele.HLayout("ele_switch_bar"),t.add(this.bar),this.view.add(t)},this._init()}}(),function(){var t=Ele.Views.TreeMenuView=function(s){this.eleType="layout",this.ele,this.view,this.width=240,this.height=36,this.title,this.content,this.nodes,this._onItemClick,this._onExpandChange=null,this.baseController,this._onErrorResponse=null,this._selectFormat=null,this._expandFormat=null,this._dataFormat=null,t.prototype.add=function(t){null!=this._dataFormat&&this._dataFormat(t,!0),void 0===t.icon&&(t.icon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_menuroot.png");var e=this;t.width=this.width-8+"px",t.onItemClick=function(t){null!=e._onItemClick&&e._onItemClick(t)},t.onClick=function(t){null!=e._onExpandChange&&e._onExpandChange(t)};var i,s=new Ele.TreeNode(t);if(null!=this._expandFormat&&(this._expandFormat(t.data)?t.expand=!0:t.expand=!1),"object"==typeof t.children)for(var o=0;o<t.children.length;o++)null!=this._dataFormat&&this._dataFormat(t.children[o],!1),void 0===t.children[o].icon&&(t.children[o].icon=Ele._pathPrefix+"ele/"+Ele._skin+"/assets/64/icon_menuitem.png"),null!=this._selectFormat&&(this._selectFormat(t.children[o].data)?t.children[o].selected=!0:t.children[o].selected=!1),s.add(t.children[o]);"boolean"==typeof t.expand&&t.expand&&s.expand(),0<this.nodes.length&&(i=new Ele.Layout("ele_menulist_divider"),this.content.add(i)),this.content.add(s),this.nodes.push(s)},t.prototype.expandStatus=function(){var t,e="";for(t in this.nodes)this.nodes[t].isExpand?e+="1":e+="0";return e},t.prototype.setTitle=function(t){this.title.setText(t)},t.prototype.fillHeight=function(t){this.view.setHeight(t+"px"),this.content.setHeight(t-36+"px")},t.prototype.loadDataSources=function(t){if(Ele._isArray(t)){this.content.clear();for(var e=0;e<t.length;e++)this.add(t[e])}},t.prototype._onDataResponse=function(t){this.loadDataSources(t)},t.prototype.loadDataSourcesUrl=function(t,e,i){"function"==typeof i&&(this._onErrorResponse=i),void 0!==e&&""!=e&&null!=e?this.baseController.setMethod(e):this.baseController.setMethod("GET"),this.baseController.loadData(t)},t.prototype._init=function(){this.view=new Ele.Layout("ele_menulist"),this.ele=this.view.ele,this.nodes=[];var e=this;"object"==typeof s&&("function"==typeof s.onItemClick&&(this._onItemClick=s.onItemClick),"function"==typeof s.onExpandChange&&(this._onExpandChange=s.onExpandChange),"function"==typeof s.selectFormat&&(this._selectFormat=s.selectFormat),"function"==typeof s.expandFormat&&(this._expandFormat=s.expandFormat),"function"==typeof s.dataFormat&&(this._dataFormat=s.dataFormat),"number"==typeof s.heightPx&&(this.height=s.heightPx,this.height<36&&(this.height=36)),"number"==typeof s.widthPx&&(this.width=s.widthPx,this.view.setWidth(this.width+"px")));var t=new Ele.Layout("ele_menulist_title_view");t.setAlign("center"),this.title=new Ele.Label("系统菜单","ele_menulist_title_txt ele_ml5"),t.add(this.title);var i=new Ele.Layout("ele_menulist_panel");this.content=new Ele.Layout("ele_menulist_content ele_scrollbar"),36<this.height&&this.fillHeight(this.height),i.add(this.content),this.view.add(t),this.view.add(i),this.baseController=new Ele.Controllers.BaseController({loadHandler:function(t){e._onDataResponse(t)},errorHandler:function(t){null!=e._onErrorResponse&&e._onErrorResponse(t)}})},this._init()}}();